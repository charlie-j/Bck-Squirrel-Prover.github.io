<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8">

  <title>Squirrel Prover - Squirrel Prover</title>
  
  <link rel="stylesheet" href="style.css">
</head>

<body onkeydown="key(event)">
<span style="display: none;"><span class="squirrel-step" id="step0">
<span class="input-line" id="in0">hash H.</span>
<span class="output-line" id="out0"></span>
<span class="com-line" id="com0"><hr />
<p>RUNNING EXAMPLE</p>
<p>This protocol is a variant of the OSK protocol described in: M. Ohkubo, K. Suzuki, S. Kinoshita et al., “Cryptographic approach to “privacy-friendly” tags,” RFID privacy workshop, vol. 82. Cambridge, USA, 2003.</p>
<p>Each tag is associated to a mutable state sT initialized with s0. Readers have access to a database containing an entry sR for each authorized tag.</p>
<p>sT := H(sT,k) T -&gt; R : G(sT,k’)</p>
<p>input x; sR := H(sR,k) if x = G(H(sR,k),k’) with sR in DB R -&gt; T : ok</p>
<p>COMMENTS - In this model we add in parallel a process in order to provide the attacker the ability to compute hashes with their respective keys (without knowing these keys). - The reader process is not modelled here, this is left for future work.</p>
<p>HELPING LEMMAS - last update - disjoint chains - monotonic chain</p>
<p>SECURITY PROPERTIES - strong secrecy ******************************************************************************</p>
</span>
</span>

<span class="squirrel-step" id="step1">
<span class="input-line" id="in1"><br>hash G.</span>
<span class="output-line" id="out1"></span>
</span>

<span class="squirrel-step" id="step2">
<span class="input-line" id="in2"><br>name k : message.</span>
<span class="output-line" id="out2"></span>
</span>

<span class="squirrel-step" id="step3">
<span class="input-line" id="in3"><br>name k' : message.</span>
<span class="output-line" id="out3"></span>
</span>

<span class="squirrel-step" id="step4">
<span class="input-line" id="in4"><br>name s0 : index-&gt;message.</span>
<span class="output-line" id="out4"></span>
</span>

<span class="squirrel-step" id="step5">
<span class="input-line" id="in5"><br>mutable s (i:index) : message = s0(i).</span>
<span class="output-line" id="out5"></span>
</span>

<span class="squirrel-step" id="step6">
<span class="input-line" id="in6"><br><br>channel o.</span>
<span class="output-line" id="out6"></span>
</span>

<span class="squirrel-step" id="step7">
<span class="input-line" id="in7"><br>channel c.</span>
<span class="output-line" id="out7"></span>
</span>

<span class="squirrel-step" id="step8">
<span class="input-line" id="in8"><br><br>system (<br>   (O: !_j in(o,x); out(o,&lt;H(x,k),G(x,k')&gt;)) |<br>   (A: !_i !_j s(i):=H(s(i),k); out(o,G(s(i),k')))<br>).</span>
<span class="output-line" id="out8">System before processing:<br>  <br>  (O: !_j <span class="pio" style="font-weight: bold">in</span>(<span class="pc">o</span>,<span class="pv" style="font-weight: bold; color: #AA00AA">x</span>); <span class="pio" style="font-weight: bold">out</span>(<span class="pc">o</span>,pair(H(x,k),G(x,k'))); <span class="pn" style="font-weight:bold; color: #0000AA">null</span>) |<br>  (A: !_i !_j s(i) <span class="pk" style="font-weight: bold">:=</span> H(s(i),k); <span class="pio" style="font-weight: bold">out</span>(<span class="pc">o</span>,G(s(i),k')); <span class="pn" style="font-weight:bold; color: #0000AA">null</span>)<br><br>System after processing:<br>  <br>  (!_j <span class="pio" style="font-weight: bold">in</span>(<span class="pc">o</span>,<span class="pv" style="font-weight: bold; color: #AA00AA">x</span>); O: <span class="pio" style="font-weight: bold">out</span>(<span class="pc">o</span>,pair(H(x,k),G(x,k'))); <span class="pn" style="font-weight:bold; color: #0000AA">null</span>) |<br>  (!_i !_j s(i) <span class="pk" style="font-weight: bold">:=</span> H(s(i),k); A: <span class="pio" style="font-weight: bold">out</span>(<span class="pc">o</span>,G(s(i),k')); <span class="pn" style="font-weight:bold; color: #0000AA">null</span>)<br><br>System default registered with actions (init,O,A).<br></span>
</span>

<span class="squirrel-step" id="step9">
<span class="input-line" id="in9"><br><br>include Basic.</span>
<span class="output-line" id="out9">Goal eq_sym :<br>  (x = y) = (y = x)<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: x,y:'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(x = y) = (y = x)<br><br>[&gt; Line 11: by (rewrite ...) <br>[goal&gt; Goal eq_sym is proved <br>Exiting proof mode.<br><br><br>Goal neq_sym :<br>  (x &lt;&gt; y) = (y &lt;&gt; x)<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: x,y:'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(x &lt;&gt; y) = (y &lt;&gt; x)<br><br>[&gt; Line 14: by (rewrite ...) <br>[goal&gt; Goal neq_sym is proved <br>Exiting proof mode.<br><br><br>Goal eq_refl :<br>  (x = x) = true<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: x:'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(x = x) = true<br><br>[&gt; Line 18: by (rewrite ...) <br>[goal&gt; Goal eq_refl is proved <br>Exiting proof mode.<br><br><br>Goal false_true :<br>  (false = true) = false<br>[goal&gt; Focused goal (1/1):<br>System: any<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(false = true) = false<br><br>[&gt; Line 30: by (rewrite ...) <br>[goal&gt; Goal false_true is proved <br>Exiting proof mode.<br><br><br>Goal eq_true :<br>  (b = true) = b<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Variables: b:bool<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(b = true) = b<br><br>[&gt; Line 35: by (case b) <br>[goal&gt; Goal eq_true is proved <br>Exiting proof mode.<br><br><br>Goal eq_true2 :<br>  (true = b) = b<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Variables: b:bool<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(true = b) = b<br><br>[&gt; Line 39: by (case b) <br>[goal&gt; Goal eq_true2 is proved <br>Exiting proof mode.<br><br><br>Goal not_not :<br>  not(not(b)) = b<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Variables: b:bool<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>not(not(b)) = b<br><br>[&gt; Line 54: by (case b) <br>[goal&gt; Goal not_not is proved <br>Exiting proof mode.<br><br><br>Goal not_eq :<br>  not(x = y) = (x &lt;&gt; y)<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: x,y:'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>not(x = y) = (x &lt;&gt; y)<br><br>[&gt; Line 60: by (rewrite ...) <br>[goal&gt; Goal not_eq is proved <br>Exiting proof mode.<br><br><br>Goal not_neq :<br>  not(x &lt;&gt; y) = (x = y)<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: x,y:'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>not(x &lt;&gt; y) = (x = y)<br><br>[&gt; Line 66: by (rewrite ...) <br>[goal&gt; Goal not_neq is proved <br>Exiting proof mode.<br><br><br>Goal not_eqfalse :<br>  (b = false) = not(b)<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Variables: b:bool<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(b = false) = not(b)<br><br>[&gt; Line 72: by (case b) <br>[goal&gt; Goal not_eqfalse is proved <br>Exiting proof mode.<br><br><br>Goal eq_false :<br>  ((x = y) = false) = (x &lt;&gt; y)<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: x,y:'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>((x = y) = false) = (x &lt;&gt; y)<br><br>[&gt; Line 80: (rewrite ...) <br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: x,y:'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>((x = y) = false) = not(x = y)<br><br>[&gt; Line 80: ((case (x = y));(intro _)) <br>[goal&gt; Focused goal (1/2):<br>System: any<br>Type variables: 'a<br>Variables: x,y:'a<br>_: x = y<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(true = false) = not(true)<br><br>[&gt; Line 80: simpl <br>[goal&gt; Focused goal (1/2):<br>System: any<br>Type variables: 'a<br>Variables: x,y:'a<br>_: x = y<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>true<br><br>[&gt; Line 80: auto <br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: x,y:'a<br>_: not(x = y)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(false = false) = not(false)<br><br>[&gt; Line 81: by (rewrite ...) <br>[goal&gt; Goal eq_false is proved <br>Exiting proof mode.<br><br><br>Goal and_true_r :<br>  (b &amp;&amp; true) = b<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Variables: b:bool<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(b &amp;&amp; true) = b<br><br>[&gt; Line 94: by (rewrite ... ...) <br>[goal&gt; Goal and_true_r is proved <br>Exiting proof mode.<br><br><br>Goal and_false_r :<br>  (b &amp;&amp; false) = false<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Variables: b:bool<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(b &amp;&amp; false) = false<br><br>[&gt; Line 101: by (rewrite ... ...) <br>[goal&gt; Goal and_false_r is proved <br>Exiting proof mode.<br><br><br>Goal or_false_r :<br>  (b || false) = b<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Variables: b:bool<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(b || false) = b<br><br>[&gt; Line 112: by (rewrite ... ...) <br>[goal&gt; Goal or_false_r is proved <br>Exiting proof mode.<br><br><br>Goal or_true_r :<br>  (b || true) = true<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Variables: b:bool<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(b || true) = true<br><br>[&gt; Line 119: by (rewrite ... ...) <br>[goal&gt; Goal or_true_r is proved <br>Exiting proof mode.<br><br><br>Goal not_and :<br>  not((a &amp;&amp; b)) = (not(a) || not(b))<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Variables: a,b:bool<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>not((a &amp;&amp; b)) = (not(a) || not(b))<br><br>[&gt; Line 128: (rewrite ...) <br>[goal&gt; Focused goal (1/1):<br>System: any<br>Variables: a,b:bool<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>not((a &amp;&amp; b)) &lt;=&gt; not(a) || not(b)<br><br>[&gt; Line 129: (((case a);(case b));(intro //=)) <br>[goal&gt; Goal not_and is proved <br>Exiting proof mode.<br><br><br>Goal not_or :<br>  not((a || b)) = (not(a) &amp;&amp; not(b))<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Variables: a,b:bool<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>not((a || b)) = (not(a) &amp;&amp; not(b))<br><br>[&gt; Line 134: (rewrite ...) <br>[goal&gt; Focused goal (1/1):<br>System: any<br>Variables: a,b:bool<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>not((a || b)) &lt;=&gt; not(a) &amp;&amp; not(b)<br><br>[&gt; Line 135: (((case a);(case b));(intro //=)) <br>[goal&gt; Goal not_or is proved <br>Exiting proof mode.<br><br><br>Goal if_true :<br>  b =&gt; if b then x else y = x<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: b:bool,x,y:'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>b =&gt; if b then x else y = x<br><br>[&gt; Line 144: (intro *) <br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: b:bool,x,y:'a<br>H: b<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>if b then x else y = x<br><br>[&gt; Line 145: (case <span>if</span> b <span>then</span> x <span>else</span> y) <br>[goal&gt; Focused goal (1/2):<br>System: any<br>Type variables: 'a<br>Variables: b:bool,x,y:'a<br>H: b<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>b &amp;&amp; if b then x else y = x =&gt; x = x<br><br>[&gt; Line 146: auto <br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: b:bool,x,y:'a<br>H: b<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>not(b) &amp;&amp; if b then x else y = y =&gt; y = x<br><br>[&gt; Line 147: (intro [HH _]) <br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: b:bool,x,y:'a<br>H: b<br>HH: not(b)<br>_: if b then x else y = y<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>y = x<br><br>[&gt; Line 147: by (have ... as ) <br>[goal&gt; Goal if_true is proved <br>Exiting proof mode.<br><br><br>Goal if_true0 :<br>  if true then x else y = x<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: x,y:'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>if true then x else y = x<br><br>[&gt; Line 153: by (rewrite ...) <br>[goal&gt; Goal if_true0 is proved <br>Exiting proof mode.<br><br><br>Goal if_false :<br>  not(b) =&gt; if b then x else y = y<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: b:bool,x,y:'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>not(b) =&gt; if b then x else y = y<br><br>[&gt; Line 160: ((intro *);(case <span>if</span> b <span>then</span> x <span>else</span> y)) <br>[goal&gt; Focused goal (1/2):<br>System: any<br>Type variables: 'a<br>Variables: b:bool,x,y:'a<br>H: not(b)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>b &amp;&amp; if b then x else y = x =&gt; x = y<br><br>[&gt; Line 161: (intro [HH _]) <br>[goal&gt; Focused goal (1/2):<br>System: any<br>Type variables: 'a<br>Variables: b:bool,x,y:'a<br>H: not(b)<br>HH: b<br>_: if b then x else y = x<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>x = y<br><br>[&gt; Line 161: by (have ... as ) <br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: b:bool,x,y:'a<br>H: not(b)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>not(b) &amp;&amp; if b then x else y = y =&gt; y = y<br><br>[&gt; Line 162: auto <br>[goal&gt; Goal if_false is proved <br>Exiting proof mode.<br><br><br>Goal if_false0 :<br>  if false then x else y = y<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: x,y:'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>if false then x else y = y<br><br>[&gt; Line 168: by (rewrite ...) <br>[goal&gt; Goal if_false0 is proved <br>Exiting proof mode.<br><br><br>Goal if_then_then :<br>  if b then if b' then x else y else y = if (b &amp;&amp; b') then x else y<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: b,b':bool,x,y:'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>if b then if b' then x else y else y = if (b &amp;&amp; b') then x else y<br><br>[&gt; Line 175: by ((case b);(case b')) <br>[goal&gt; Goal if_then_then is proved <br>Exiting proof mode.<br><br><br>Goal if_then_implies :<br>  if b then if b' then x else y else z =<br>  if b then if (b =&gt; b') then x else y else z<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: b,b':bool,x,y,z:'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>if b then if b' then x else y else z =<br>if b then if (b =&gt; b') then x else y else z<br><br>[&gt; Line 182: ((case b);<br>             ((intro H);((case b');((intro H');(simpl;(try auto))))))<br><br>[goal&gt; Focused goal (1/2):<br>System: any<br>Type variables: 'a<br>Variables: b,b':bool,x,y,z:'a<br>H: b<br>H': b'<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>x = if (true =&gt; true) then x else y<br><br>[&gt; Line 183: by (rewrite ...) <br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: b,b':bool,x,y,z:'a<br>H: b<br>H': not(b')<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>y = if (true =&gt; false) then x else y<br><br>[&gt; Line 184: (rewrite ...) <br>[goal&gt; Focused goal (1/2):<br>System: any<br>Type variables: 'a<br>Variables: b,b':bool,x,y,z:'a<br>H: b<br>H': not(b')<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>not((true =&gt; false))<br><br>[&gt; Line 185: ((intro Habs);by (have ... as )) <br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: b,b':bool,x,y,z:'a<br>H: b<br>H': not(b')<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>y = y<br><br>[&gt; Line 186: auto <br>[goal&gt; Goal if_then_implies is proved <br>Exiting proof mode.<br><br><br>Goal if_same :<br>  if b then x else x = x<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: b:bool,x:'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>if b then x else x = x<br><br>[&gt; Line 192: by (case b) <br>[goal&gt; Goal if_same is proved <br>Exiting proof mode.<br><br><br>Goal if_then :<br>  b = b' =&gt; if b then if b' then x else y else z = if b then x else z<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: b,b':bool,x,y,z:'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>b = b' =&gt; if b then if b' then x else y else z = if b then x else z<br><br>[&gt; Line 201: by ((intro -&gt;);(case b')) <br>[goal&gt; Goal if_then is proved <br>Exiting proof mode.<br><br><br>Goal if_else :<br>  b = b' =&gt; if b then x else if b' then y else z = if b then x else z<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: b,b':bool,x,y,z:'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>b = b' =&gt; if b then x else if b' then y else z = if b then x else z<br><br>[&gt; Line 210: by ((intro -&gt;);(case b')) <br>[goal&gt; Goal if_else is proved <br>Exiting proof mode.<br><br><br>Goal if_then_not :<br>  b = not(b') =&gt; if b then if b' then x else y else z = if b then y else z<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: b,b':bool,x,y,z:'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>b = not(b') =&gt; if b then if b' then x else y else z = if b then y else z<br><br>[&gt; Line 219: by ((intro -&gt;);(case b')) <br>[goal&gt; Goal if_then_not is proved <br>Exiting proof mode.<br><br><br>Goal if_else_not :<br>  b = not(b') =&gt; if b then x else if b' then y else z = if b then x else y<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br>Variables: b,b':bool,x,y,z:'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>b = not(b') =&gt; if b then x else if b' then y else z = if b then x else y<br><br>[&gt; Line 228: by ((intro -&gt;);(case b')) <br>[goal&gt; Goal if_else_not is proved <br>Exiting proof mode.<br><br><br>Goal fst_pair :<br>  <span class="gf" style="font-weight: bold">fst</span>(&lt;x,y&gt;) = x<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Variables: x,y:message<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gf" style="font-weight: bold">fst</span>(&lt;x,y&gt;) = x<br><br>[&gt; Line 236: auto <br>[goal&gt; Goal fst_pair is proved <br>Exiting proof mode.<br><br><br>Goal snd_pair :<br>  <span class="gf" style="font-weight: bold">snd</span>(&lt;x,y&gt;) = y<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Variables: x,y:message<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gf" style="font-weight: bold">snd</span>(&lt;x,y&gt;) = y<br><br>[&gt; Line 240: auto <br>[goal&gt; Goal snd_pair is proved <br>Exiting proof mode.<br><br><br>Goal iff_refl :<br>  (x &lt;=&gt; x) = true<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Variables: x:bool<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(x &lt;=&gt; x) = true<br><br>[&gt; Line 248: by (rewrite ...) <br>[goal&gt; Goal iff_refl is proved <br>Exiting proof mode.<br><br><br>Goal iff_sym :<br>  (x &lt;=&gt; y) = (y &lt;=&gt; x)<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Variables: x,y:bool<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(x &lt;=&gt; y) = (y &lt;=&gt; x)<br><br>[&gt; Line 254: by (rewrite ...) <br>[goal&gt; Goal iff_sym is proved <br>Exiting proof mode.<br><br><br>Goal true_iff_false :<br>  (true &lt;=&gt; false) = false<br>[goal&gt; Focused goal (1/1):<br>System: any<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(true &lt;=&gt; false) = false<br><br>[&gt; Line 259: by (rewrite ...) <br>[goal&gt; Goal true_iff_false is proved <br>Exiting proof mode.<br><br><br>Goal false_iff_true :<br>  (false &lt;=&gt; true) = false<br>[goal&gt; Focused goal (1/1):<br>System: any<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(false &lt;=&gt; true) = false<br><br>[&gt; Line 265: by (rewrite ...) <br>[goal&gt; Goal false_iff_true is proved <br>Exiting proof mode.<br><br><br>Goal exists_false1 :<br>  (exists (a:'a), false) = false<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(exists (a:'a), false) = false<br><br>[&gt; Line 277: by (rewrite ...) <br>[goal&gt; Goal exists_false1 is proved <br>Exiting proof mode.<br><br><br>Goal exists_false2 :<br>  (exists (a:'a,b:'b), false) = false<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a, 'b<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(exists (a:'a,b:'b), false) = false<br><br>[&gt; Line 281: by (rewrite ...) <br>[goal&gt; Goal exists_false2 is proved <br>Exiting proof mode.<br><br><br>Goal exists_false3 :<br>  (exists (a:'a,b:'b,c:'c), false) = false<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a, 'b, 'c<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(exists (a:'a,b:'b,c:'c), false) = false<br><br>[&gt; Line 285: by (rewrite ...) <br>[goal&gt; Goal exists_false3 is proved <br>Exiting proof mode.<br><br><br>Goal exists_false4 :<br>  (exists (a:'a,b:'b,c:'c,d:'d), false) = false<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a, 'b, 'c, 'd<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(exists (a:'a,b:'b,c:'c,d:'d), false) = false<br><br>[&gt; Line 289: by (rewrite ...) <br>[goal&gt; Goal exists_false4 is proved <br>Exiting proof mode.<br><br><br>Goal exists_false5 :<br>  (exists (a:'a,b:'b,c:'c,d:'d,e:'e), false) = false<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a, 'b, 'c, 'd, 'e<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(exists (a:'a,b:'b,c:'c,d:'d,e:'e), false) = false<br><br>[&gt; Line 293: by (rewrite ...) <br>[goal&gt; Goal exists_false5 is proved <br>Exiting proof mode.<br><br><br>Goal exists_false6 :<br>  (exists (a:'a,b:'b,c:'c,d:'d,e:'e,f:'f), false) = false<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a, 'b, 'c, 'd, 'e, 'f<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(exists (a:'a,b:'b,c:'c,d:'d,e:'e,f:'f), false) = false<br><br>[&gt; Line 297: by (rewrite ...) <br>[goal&gt; Goal exists_false6 is proved <br>Exiting proof mode.<br><br><br>Goal forall_true1 :<br>  (forall (a:'a), true) = true<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (a:'a), true) = true<br><br>[&gt; Line 307: auto <br>[goal&gt; Goal forall_true1 is proved <br>Exiting proof mode.<br><br><br>Goal forall_true2 :<br>  (forall (a:'a,b:'b), true) = true<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a, 'b<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (a:'a,b:'b), true) = true<br><br>[&gt; Line 311: auto <br>[goal&gt; Goal forall_true2 is proved <br>Exiting proof mode.<br><br><br>Goal forall_true3 :<br>  (forall (a:'a,b:'b,c:'c), true) = true<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a, 'b, 'c<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (a:'a,b:'b,c:'c), true) = true<br><br>[&gt; Line 315: auto <br>[goal&gt; Goal forall_true3 is proved <br>Exiting proof mode.<br><br><br>Goal forall_true4 :<br>  (forall (a:'a,b:'b,c:'c,d:'d), true) = true<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a, 'b, 'c, 'd<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (a:'a,b:'b,c:'c,d:'d), true) = true<br><br>[&gt; Line 319: auto <br>[goal&gt; Goal forall_true4 is proved <br>Exiting proof mode.<br><br><br>Goal forall_true5 :<br>  (forall (a:'a,b:'b,c:'c,d:'d,e:'e), true) = true<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a, 'b, 'c, 'd, 'e<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (a:'a,b:'b,c:'c,d:'d,e:'e), true) = true<br><br>[&gt; Line 323: auto <br>[goal&gt; Goal forall_true5 is proved <br>Exiting proof mode.<br><br><br>Goal forall_true6 :<br>  (forall (a:'a,b:'b,c:'c,d:'d,e:'e,f:'f), true) = true<br>[goal&gt; Focused goal (1/1):<br>System: any<br>Type variables: 'a, 'b, 'c, 'd, 'e, 'f<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (a:'a,b:'b,c:'c,d:'d,e:'e,f:'f), true) = true<br><br>[&gt; Line 327: auto <br>[goal&gt; Goal forall_true6 is proved <br>Exiting proof mode.<br><br><br>[warning&gt; loaded: Basic.sp  &lt;]<br></span>
</span>

<span class="squirrel-step" id="step10">
<span class="input-line" id="in10"><br><br>(* AXIOMS *)<br><br>(* We assume that the attacker never repeats a query to the oracle. *)<br><br>axiom unique_queries : forall (i,j:index) i &lt;&gt; j =&gt; input@O(i) &lt;&gt; input@O(j).</span>
<span class="output-line" id="out10"></span>
</span>

<span class="squirrel-step" id="step11">
<span class="input-line" id="in11"><br><br>(* HELPING LEMMAS *)<br><br>(* See `running-ex.sp` for more details about lastupdate_XXX lemmas. *)<br><br>goal lastupdate_pure : forall (i:index,tau:timestamp), happens(tau) =&gt; (<br>  (forall j:index, happens(A(i,j)) =&gt; A(i,j)&gt;tau) ||<br>  (exists j:index, happens(A(i,j)) &amp;&amp; A(i,j)&lt;=tau<br>    &amp;&amp; forall jj:index, happens(A(i,jj)) &amp;&amp; A(i,jj)&lt;=tau =&gt; A(i,jj)&lt;=A(i,j))).</span>
<span class="output-line" id="out11">Goal lastupdate_pure :<br>  forall (i:index,tau:timestamp),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau) =&gt;<br>    (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau) ||<br>    exists (j:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br></span>
</span>

<span class="squirrel-step" id="step12">
<span class="input-line" id="in12"><br><br>Proof.</span>
<span class="output-line" id="out12">[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (i:index,tau:timestamp),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau) =&gt;<br>  (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau) ||<br>  exists (j:index),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>    <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau &amp;&amp;<br>    forall (jj:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step13">
<span class="input-line" id="in13"><br>  intro i.</span>
<span class="output-line" id="out13">[&gt; Line 66: (intro i) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i:index<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (tau:timestamp),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau) =&gt;<br>  (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau) ||<br>  exists (j:index),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>    <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau &amp;&amp;<br>    forall (jj:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step14">
<span class="input-line" id="in14"><br>  induction =&gt; tau IH Hp.</span>
<span class="output-line" id="out14">[&gt; Line 67: (induction;(intro tau IH Hp)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i:index,tau:timestamp<br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau) ||<br>exists (j:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau &amp;&amp;<br>  forall (jj:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step15">
<span class="input-line" id="in15"><br>  case tau.</span>
<span class="output-line" id="out15">[&gt; Line 68: (case tau) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left, right:default/right<br>Variables: i:index,tau:timestamp<br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>tau = <span class="ga" style="color: #00AA00">init</span> =&gt;<br>(forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; <span class="ga" style="color: #00AA00">init</span>) ||<br>exists (j:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="ga" style="color: #00AA00">init</span> &amp;&amp;<br>  forall (jj:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">init</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step16">
<span class="input-line" id="in16"><br><br>    + (* init *)<br>      intro Eq; left; intro j HpA; by auto.</span>
<span class="output-line" id="out16">[&gt; Line 71: ((intro Eq);(left;((intro j HpA);by auto))) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i:index,tau:timestamp<br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(exists (j:index), tau = <span class="ga" style="color: #00AA00">O(j)</span>) =&gt;<br>(forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau) ||<br>exists (j:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau &amp;&amp;<br>  forall (jj:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step17">
<span class="input-line" id="in17"><br><br>    + (* O(i) *)<br>      intro [j Eq]; subst tau, O(j).</span>
<span class="output-line" id="out17">[&gt; Line 74: ((intro [j Eq]);(subst tau, O(j))) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j:index<br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">O(j)</span>) ||<br>exists (j0:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="ga" style="color: #00AA00">O(j)</span> &amp;&amp;<br>  forall (jj:index),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step18">
<span class="input-line" id="in18"><br>      use IH with pred(O(j)) =&gt; //.</span>
<span class="output-line" id="out18">[&gt; Line 75: ((have ... as );(intro //)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j:index<br>H: (forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>)) ||<br>   exists (j0:index),<br>     <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br>     <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>) &amp;&amp;<br>     forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">O(j)</span>) ||<br>exists (j0:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="ga" style="color: #00AA00">O(j)</span> &amp;&amp;<br>  forall (jj:index),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step19">
<span class="input-line" id="in19"><br>      destruct H as [H1 | [j0 H2]].</span>
<span class="output-line" id="out19">[&gt; Line 76: (destruct H, [H1|[j0 H2]]) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left, right:default/right<br>Variables: i,j:index<br>H1: forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">O(j)</span>) ||<br>exists (j0:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="ga" style="color: #00AA00">O(j)</span> &amp;&amp;<br>  forall (jj:index),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step20">
<span class="input-line" id="in20"><br>        - left; intro j0 HpA; by use H1 with j0.</span>
<span class="output-line" id="out20">[&gt; Line 77: (left;((intro j0 HpA);by (have ... as ))) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0:index<br>H2: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br>    <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>) &amp;&amp;<br>    forall (jj:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">O(j)</span>) ||<br>exists (j0:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="ga" style="color: #00AA00">O(j)</span> &amp;&amp;<br>  forall (jj:index),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step21">
<span class="input-line" id="in21"><br>        - right.</span>
<span class="output-line" id="out21">[&gt; Line 78: right <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0:index<br>H2: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br>    <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>) &amp;&amp;<br>    forall (jj:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>exists (j0:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="ga" style="color: #00AA00">O(j)</span> &amp;&amp;<br>  forall (jj:index),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step22">
<span class="input-line" id="in22"> destruct H2 as [_ _ H2].</span>
<span class="output-line" id="out22">[&gt; Line 78: (destruct H2, [_ _ H2]) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0:index<br>H2: forall (jj:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>_: <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>_: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>exists (j0:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="ga" style="color: #00AA00">O(j)</span> &amp;&amp;<br>  forall (jj:index),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step23">
<span class="input-line" id="in23"><br>          exists j0.</span>
<span class="output-line" id="out23">[&gt; Line 79: (exists j0) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0:index<br>H2: forall (jj:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>_: <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>_: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br><span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="ga" style="color: #00AA00">O(j)</span> &amp;&amp;<br>forall (jj:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step24">
<span class="input-line" id="in24"><br>          intro /= jj Hyp.</span>
<span class="output-line" id="out24">[&gt; Line 80: (intro /= jj Hyp) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0,jj:index<br>H2: forall (jj:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>Hyp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">O(j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>_: <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>_: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step25">
<span class="input-line" id="in25"><br>          by apply H2.</span>
<span class="output-line" id="out25">[&gt; Line 81: by (apply ... ) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i:index,tau:timestamp<br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(exists (i0,j:index), tau = <span class="ga" style="color: #00AA00">A(i0,j)</span>) =&gt;<br>(forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau) ||<br>exists (j:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau &amp;&amp;<br>  forall (jj:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step26">
<span class="input-line" id="in26"><br><br>    + (* A(i0,j) *)<br>      intro [i0 j Eq]; subst tau, A(i0,j).</span>
<span class="output-line" id="out26">[&gt; Line 84: ((intro [i0 j Eq]);(subst tau, A(i0,j))) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j:index<br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">A(i0,j)</span>) ||<br>exists (j0:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j)</span> &amp;&amp;<br>  forall (jj:index),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step27">
<span class="input-line" id="in27"> <br>      case (i&lt;&gt;i0) =&gt; //.</span>
<span class="output-line" id="out27">[&gt; Line 85: ((case (i &lt;&gt; i0));(intro //)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j:index<br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>i &lt;&gt; i0 =&gt;<br>(forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">A(i0,j)</span>) ||<br>exists (j0:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j)</span> &amp;&amp;<br>  forall (jj:index),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step28">
<span class="input-line" id="in28"><br>       - (* 1st case: i&lt;&gt;i0 *)<br>          intro Neq.</span>
<span class="output-line" id="out28">[&gt; Line 87: (intro Neq) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j:index<br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>Neq: i &lt;&gt; i0<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">A(i0,j)</span>) ||<br>exists (j0:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j)</span> &amp;&amp;<br>  forall (jj:index),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step29">
<span class="input-line" id="in29"><br>          use IH with pred(A(i0,j)) =&gt; //.</span>
<span class="output-line" id="out29">[&gt; Line 88: ((have ... as );(intro //)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j:index<br>H: (forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)) ||<br>   exists (j0:index),<br>     <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br>     <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>) &amp;&amp;<br>     forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>Neq: i &lt;&gt; i0<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">A(i0,j)</span>) ||<br>exists (j0:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j)</span> &amp;&amp;<br>  forall (jj:index),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step30">
<span class="input-line" id="in30"><br>          destruct H as [H1 | [j0 H2]].</span>
<span class="output-line" id="out30">[&gt; Line 89: (destruct H, [H1|[j0 H2]]) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j:index<br>H1: forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>Neq: i &lt;&gt; i0<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">A(i0,j)</span>) ||<br>exists (j0:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j)</span> &amp;&amp;<br>  forall (jj:index),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step31">
<span class="input-line" id="in31"><br>            * left; intro j0 HpA; by use H1 with j0.</span>
<span class="output-line" id="out31">[&gt; Line 90: (left;((intro j0 HpA);by (have ... as ))) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j,j0:index<br>H2: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br>    <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>) &amp;&amp;<br>    forall (jj:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>Neq: i &lt;&gt; i0<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">A(i0,j)</span>) ||<br>exists (j0:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j)</span> &amp;&amp;<br>  forall (jj:index),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step32">
<span class="input-line" id="in32"><br>            * right; destruct H2 as [_ _ H2]; exists j0.</span>
<span class="output-line" id="out32">[&gt; Line 91: (right;((destruct H2, [_ _ H2]);(exists j0))) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j,j0:index<br>H2: forall (jj:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>Neq: i &lt;&gt; i0<br>_: <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>_: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br><span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j)</span> &amp;&amp;<br>forall (jj:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step33">
<span class="input-line" id="in33"><br>              intro /= jj Hyp.</span>
<span class="output-line" id="out33">[&gt; Line 92: (intro /= jj Hyp) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j,j0,jj:index<br>H2: forall (jj:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>Hyp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>Neq: i &lt;&gt; i0<br>_: <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>_: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step34">
<span class="input-line" id="in34"><br>              by apply H2.</span>
<span class="output-line" id="out34">[&gt; Line 93: by (apply ... ) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j:index<br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>not(i &lt;&gt; i0) =&gt;<br>(forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">A(i0,j)</span>) ||<br>exists (j0:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j)</span> &amp;&amp;<br>  forall (jj:index),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step35">
<span class="input-line" id="in35"><br><br>      - (* 2nd case: i&lt;&gt;i0 *)<br>        intro Eq; subst i0, i.</span>
<span class="output-line" id="out35">[&gt; Line 96: ((intro Eq);(subst i0, i)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,j:index<br>Eq: not(i &lt;&gt; i)<br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) ||<br>      exists (j:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>        <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>        forall (jj:index),<br>          <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">A(i,j)</span>) ||<br>exists (j0:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp;<br>  forall (jj:index),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step36">
<span class="input-line" id="in36"><br>        by right; exists j.</span>
<span class="output-line" id="out36">[&gt; Line 97: by (right;(exists j)) <br>[goal&gt; Goal lastupdate_pure is proved <br></span>
</span>

<span class="squirrel-step" id="step37">
<span class="input-line" id="in37"><br>Qed.</span>
<span class="output-line" id="out37">Exiting proof mode.<br><br><br></span>
</span>

<span class="squirrel-step" id="step38">
<span class="input-line" id="in38"><br><br>goal lastupdate_init : forall (i:index,tau:timestamp), happens(tau) =&gt; (<br>  (forall j:index, happens(A(i,j)) =&gt; A(i,j)&gt;tau))<br>  =&gt; s(i)@tau = s(i)@init.</span>
<span class="output-line" id="out38">Goal lastupdate_init :<br>  forall (i:index,tau:timestamp),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau) =&gt;<br>    (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau) =&gt;<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br></span>
</span>

<span class="squirrel-step" id="step39">
<span class="input-line" id="in39"><br><br>Proof.</span>
<span class="output-line" id="out39">[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (i:index,tau:timestamp),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau) =&gt;<br>  (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau) =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><br></span>
</span>

<span class="squirrel-step" id="step40">
<span class="input-line" id="in40"><br>  intro i.</span>
<span class="output-line" id="out40">[&gt; Line 105: (intro i) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i:index<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (tau:timestamp),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau) =&gt;<br>  (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau) =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><br></span>
</span>

<span class="squirrel-step" id="step41">
<span class="input-line" id="in41"><br>  induction =&gt; tau IH Htau.</span>
<span class="output-line" id="out41">[&gt; Line 106: (induction;(intro tau IH Htau)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i:index,tau:timestamp<br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau) =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><br></span>
</span>

<span class="squirrel-step" id="step42">
<span class="input-line" id="in42"><br>  case tau.</span>
<span class="output-line" id="out42">[&gt; Line 107: (case tau) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left, right:default/right<br>Variables: i:index,tau:timestamp<br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>tau = <span class="ga" style="color: #00AA00">init</span> =&gt;<br>(forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; <span class="ga" style="color: #00AA00">init</span>) =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span> = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><br></span>
</span>

<span class="squirrel-step" id="step43">
<span class="input-line" id="in43"><br><br>    + (* init *)<br>      by auto.</span>
<span class="output-line" id="out43">[&gt; Line 110: by auto <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i:index,tau:timestamp<br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(exists (j:index), tau = <span class="ga" style="color: #00AA00">O(j)</span>) =&gt;<br>(forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau) =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><br></span>
</span>

<span class="squirrel-step" id="step44">
<span class="input-line" id="in44"><br><br>    + (* O(j) *)<br>      intro [j Hj]; rewrite Hj in *.</span>
<span class="output-line" id="out44">[&gt; Line 113: ((intro [j Hj]);(rewrite ... in *)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j:index,tau:timestamp<br>Hj: tau = <span class="ga" style="color: #00AA00">O(j)</span><br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">O(j)</span>) =&gt;<br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">O(j)</span> = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><br></span>
</span>

<span class="squirrel-step" id="step45">
<span class="input-line" id="in45"><br>      expand s(i)@O(j).</span>
<span class="output-line" id="out45">[&gt; Line 114: (expand s(i)@O(j)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j:index,tau:timestamp<br>Hj: tau = <span class="ga" style="color: #00AA00">O(j)</span><br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">O(j)</span>) =&gt;<br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><br></span>
</span>

<span class="squirrel-step" id="step46">
<span class="input-line" id="in46"><br>      intro Hyp.</span>
<span class="output-line" id="out46">[&gt; Line 115: (intro Hyp) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j:index,tau:timestamp<br>Hj: tau = <span class="ga" style="color: #00AA00">O(j)</span><br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>Hyp: forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">O(j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><br></span>
</span>

<span class="squirrel-step" id="step47">
<span class="input-line" id="in47"><br>      use IH with pred(O(j)) =&gt; //.</span>
<span class="output-line" id="out47">[&gt; Line 116: ((have ... as );(intro //)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j:index,tau:timestamp<br>Hj: tau = <span class="ga" style="color: #00AA00">O(j)</span><br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>Hyp: forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">O(j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br><br></span>
</span>

<span class="squirrel-step" id="step48">
<span class="input-line" id="in48"><br>      intro j0 HpA.</span>
<span class="output-line" id="out48">[&gt; Line 117: (intro j0 HpA) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0:index,tau:timestamp<br>Hj: tau = <span class="ga" style="color: #00AA00">O(j)</span><br>HpA: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>)<br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>Hyp: forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">O(j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br><br></span>
</span>

<span class="squirrel-step" id="step49">
<span class="input-line" id="in49"><br>      by use Hyp with j0.</span>
<span class="output-line" id="out49">[&gt; Line 118: by (have ... as ) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i:index,tau:timestamp<br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(exists (i0,j:index), tau = <span class="ga" style="color: #00AA00">A(i0,j)</span>) =&gt;<br>(forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau) =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><br></span>
</span>

<span class="squirrel-step" id="step50">
<span class="input-line" id="in50"><br><br>    + (* A(i0,j) *)<br>      intro [i0 j HA]; rewrite HA in *.</span>
<span class="output-line" id="out50">[&gt; Line 121: ((intro [i0 j HA]);(rewrite ... in *)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j:index,tau:timestamp<br>HA: tau = <span class="ga" style="color: #00AA00">A(i0,j)</span><br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">A(i0,j)</span>) =&gt;<br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i0,j)</span> = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><br></span>
</span>

<span class="squirrel-step" id="step51">
<span class="input-line" id="in51"><br>      case (i = i0) =&gt; //.</span>
<span class="output-line" id="out51">[&gt; Line 122: ((case (i = i0));(intro //)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j:index,tau:timestamp<br>HA: tau = <span class="ga" style="color: #00AA00">A(i0,j)</span><br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>i = i0 =&gt;<br>(forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">A(i0,j)</span>) =&gt;<br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i0,j)</span> = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><br></span>
</span>

<span class="squirrel-step" id="step52">
<span class="input-line" id="in52"><br>        - intro Eq H0.</span>
<span class="output-line" id="out52">[&gt; Line 123: (intro Eq H0) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j:index,tau:timestamp<br>H0: forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>HA: tau = <span class="ga" style="color: #00AA00">A(i,j)</span><br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><br></span>
</span>

<span class="squirrel-step" id="step53">
<span class="input-line" id="in53"><br>          use H0 with j =&gt; //.</span>
<span class="output-line" id="out53">[&gt; Line 124: ((have ... as );(intro //)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j:index,tau:timestamp<br>HA: tau = <span class="ga" style="color: #00AA00">A(i0,j)</span><br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>not(i = i0) =&gt;<br>(forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">A(i0,j)</span>) =&gt;<br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i0,j)</span> = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><br></span>
</span>

<span class="squirrel-step" id="step54">
<span class="input-line" id="in54"><br><br>        - intro Neq H0.</span>
<span class="output-line" id="out54">[&gt; Line 126: (intro Neq H0) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j:index,tau:timestamp<br>H0: forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">A(i0,j)</span><br>HA: tau = <span class="ga" style="color: #00AA00">A(i0,j)</span><br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br>Neq: not(i = i0)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i0,j)</span> = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><br></span>
</span>

<span class="squirrel-step" id="step55">
<span class="input-line" id="in55"><br>          use IH with pred(A(i0,j)) =&gt; //.</span>
<span class="output-line" id="out55">[&gt; Line 127: ((have ... as );(intro //)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j:index,tau:timestamp<br>H0: forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">A(i0,j)</span><br>HA: tau = <span class="ga" style="color: #00AA00">A(i0,j)</span><br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br>Neq: not(i = i0)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i0,j)</span> = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><br></span>
</span>

<span class="squirrel-step" id="step56">
<span class="input-line" id="in56"><br>            * expand s(i)@A(i0,j).</span>
<span class="output-line" id="out56">[&gt; Line 128: (expand s(i)@A(i0,j)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j:index,tau:timestamp<br>H0: forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">A(i0,j)</span><br>HA: tau = <span class="ga" style="color: #00AA00">A(i0,j)</span><br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br>Neq: not(i = i0)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>if (i = i0) then <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i0)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>),<span class="gn" style="color: #AA5500">k</span>) else <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><br></span>
</span>

<span class="squirrel-step" id="step57">
<span class="input-line" id="in57"><br>              rewrite if_false =&gt; //.</span>
<span class="output-line" id="out57">[&gt; Line 129: ((rewrite ...);(intro //)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j:index,tau:timestamp<br>H0: forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">A(i0,j)</span><br>HA: tau = <span class="ga" style="color: #00AA00">A(i0,j)</span><br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br>Neq: not(i = i0)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br><br></span>
</span>

<span class="squirrel-step" id="step58">
<span class="input-line" id="in58"><br>            * intro j0 Hp.</span>
<span class="output-line" id="out58">[&gt; Line 130: (intro j0 Hp) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j,j0:index,tau:timestamp<br>H0: forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="ga" style="color: #00AA00">A(i0,j)</span><br>HA: tau = <span class="ga" style="color: #00AA00">A(i0,j)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>)<br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) =&gt;<br>      (forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br>Neq: not(i = i0)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j)</span>)<br><br></span>
</span>

<span class="squirrel-step" id="step59">
<span class="input-line" id="in59"><br>              use H0 with j0 =&gt; //.</span>
<span class="output-line" id="out59">[&gt; Line 131: ((have ... as );(intro //)) <br>[goal&gt; Goal lastupdate_init is proved <br></span>
</span>

<span class="squirrel-step" id="step60">
<span class="input-line" id="in60"><br>Qed.</span>
<span class="output-line" id="out60">Exiting proof mode.<br><br><br></span>
</span>

<span class="squirrel-step" id="step61">
<span class="input-line" id="in61"><br><br><br>goal lastupdate_A: forall (i:index, j:index, tau:timestamp),<br>  (happens(tau) &amp;&amp;<br>   A(i,j)&lt;=tau &amp;&amp;<br>   forall jj:index, happens(A(i,jj)) &amp;&amp; A(i,jj)&lt;=tau =&gt; A(i,jj)&lt;=A(i,j))<br>  =&gt; s(i)@tau = s(i)@A(i,j).</span>
<span class="output-line" id="out61">Goal lastupdate_A :<br>  forall (i,j:index,tau:timestamp),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau) &amp;&amp;<br>    <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau &amp;&amp;<br>    forall (jj:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br></span>
</span>

<span class="squirrel-step" id="step62">
<span class="input-line" id="in62"><br>Proof.</span>
<span class="output-line" id="out62">[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (i,j:index,tau:timestamp),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau &amp;&amp;<br>  forall (jj:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step63">
<span class="input-line" id="in63"><br>  intro i j.</span>
<span class="output-line" id="out63">[&gt; Line 141: (intro i j) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,j:index<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (tau:timestamp),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau) &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau &amp;&amp;<br>  forall (jj:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step64">
<span class="input-line" id="in64"><br>  induction =&gt; tau IH [Hp Ord Hyp].</span>
<span class="output-line" id="out64">[&gt; Line 142: (induction;(intro tau IH [Hp Ord Hyp])) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,j:index,tau:timestamp<br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step65">
<span class="input-line" id="in65"><br>  case tau.</span>
<span class="output-line" id="out65">[&gt; Line 143: (case tau) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left, right:default/right<br>Variables: i,j:index,tau:timestamp<br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>tau = <span class="ga" style="color: #00AA00">init</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span> = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step66">
<span class="input-line" id="in66"><br><br>    + (* init *)<br>      by auto.</span>
<span class="output-line" id="out66">[&gt; Line 146: by auto <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j:index,tau:timestamp<br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(exists (j0:index), tau = <span class="ga" style="color: #00AA00">O(j0)</span>) =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step67">
<span class="input-line" id="in67"><br><br>    + (* O(j0 *)<br>      intro [j0 Hj]; rewrite Hj in *.</span>
<span class="output-line" id="out67">[&gt; Line 149: ((intro [j0 Hj]);(rewrite ... in *)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0:index,tau:timestamp<br>Hj: tau = <span class="ga" style="color: #00AA00">O(j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j0)</span>)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">O(j0)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">O(j0)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="ga" style="color: #00AA00">O(j0)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">O(j0)</span> = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step68">
<span class="input-line" id="in68"><br>      expand s(i)@O(j0).</span>
<span class="output-line" id="out68">[&gt; Line 150: (expand s(i)@O(j0)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0:index,tau:timestamp<br>Hj: tau = <span class="ga" style="color: #00AA00">O(j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j0)</span>)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">O(j0)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">O(j0)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="ga" style="color: #00AA00">O(j0)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j0)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step69">
<span class="input-line" id="in69"><br>      use IH with pred(O(j0)) =&gt; //.</span>
<span class="output-line" id="out69">[&gt; Line 151: ((have ... as );(intro //)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0:index,tau:timestamp<br>Hj: tau = <span class="ga" style="color: #00AA00">O(j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j0)</span>)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">O(j0)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">O(j0)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="ga" style="color: #00AA00">O(j0)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j0)</span>)) &amp;&amp;<br><span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j0)</span>) &amp;&amp;<br>forall (jj:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step70">
<span class="input-line" id="in70"><br>      repeat split =&gt; //.</span>
<span class="output-line" id="out70">[&gt; Line 152: ((repeat split);(intro //)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0:index,tau:timestamp<br>Hj: tau = <span class="ga" style="color: #00AA00">O(j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j0)</span>)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">O(j0)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">O(j0)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="ga" style="color: #00AA00">O(j0)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (jj:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step71">
<span class="input-line" id="in71"><br>      intro jj H.</span>
<span class="output-line" id="out71">[&gt; Line 153: (intro jj H) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0,jj:index,tau:timestamp<br>H: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j0)</span>)<br>Hj: tau = <span class="ga" style="color: #00AA00">O(j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j0)</span>)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">O(j0)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">O(j0)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="ga" style="color: #00AA00">O(j0)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step72">
<span class="input-line" id="in72"><br>      use Hyp with jj =&gt; //.</span>
<span class="output-line" id="out72">[&gt; Line 154: ((have ... as );(intro //)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,j:index,tau:timestamp<br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>(exists (i0,j0:index), tau = <span class="ga" style="color: #00AA00">A(i0,j0)</span>) =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step73">
<span class="input-line" id="in73"><br><br>    + (* A(i0,j0) *)<br>      intro [i0 j0 H]; rewrite H in *.</span>
<span class="output-line" id="out73">[&gt; Line 157: ((intro [i0 j0 H]);(rewrite ... in *)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j,j0:index,tau:timestamp<br>H: tau = <span class="ga" style="color: #00AA00">A(i0,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i0,j0)</span> = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step74">
<span class="input-line" id="in74"><br>      case (i=i0) =&gt; //.</span>
<span class="output-line" id="out74">[&gt; Line 158: ((case (i = i0));(intro //)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j,j0:index,tau:timestamp<br>H: tau = <span class="ga" style="color: #00AA00">A(i0,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>i = i0 =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i0,j0)</span> = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step75">
<span class="input-line" id="in75"><br>        - intro Eqi.</span>
<span class="output-line" id="out75">[&gt; Line 159: (intro Eqi) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0:index,tau:timestamp<br>H: tau = <span class="ga" style="color: #00AA00">A(i,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i,j0)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j0)</span> = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step76">
<span class="input-line" id="in76"><br>          use Hyp with j0.</span>
<span class="output-line" id="out76">[&gt; Line 160: (have ... as ) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0:index,tau:timestamp<br>Cle: <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>H: tau = <span class="ga" style="color: #00AA00">A(i,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i,j0)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j0)</span> = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step77">
<span class="input-line" id="in77"><br>            * case (j=j0) =&gt; //.</span>
<span class="output-line" id="out77">[&gt; Line 161: ((case (j = j0));(intro //)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0:index,tau:timestamp<br>H: tau = <span class="ga" style="color: #00AA00">A(i,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i,j0)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step78">
<span class="input-line" id="in78"><br>            * auto.</span>
<span class="output-line" id="out78">[&gt; Line 162: auto <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j,j0:index,tau:timestamp<br>H: tau = <span class="ga" style="color: #00AA00">A(i0,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>not(i = i0) =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i0,j0)</span> = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step79">
<span class="input-line" id="in79"><br>        - intro Neqi.</span>
<span class="output-line" id="out79">[&gt; Line 163: (intro Neqi) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j,j0:index,tau:timestamp<br>H: tau = <span class="ga" style="color: #00AA00">A(i0,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Neqi: not(i = i0)<br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i0,j0)</span> = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step80">
<span class="input-line" id="in80"><br>          expand s(i)@A(i0,j0).</span>
<span class="output-line" id="out80">[&gt; Line 164: (expand s(i)@A(i0,j0)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j,j0:index,tau:timestamp<br>H: tau = <span class="ga" style="color: #00AA00">A(i0,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Neqi: not(i = i0)<br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>if (i = i0) then <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i0)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>),<span class="gn" style="color: #AA5500">k</span>) else <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>) =<br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step81">
<span class="input-line" id="in81"><br>          rewrite if_false.</span>
<span class="output-line" id="out81">[&gt; Line 165: (rewrite ...) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j,j0:index,tau:timestamp<br>H: tau = <span class="ga" style="color: #00AA00">A(i0,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Neqi: not(i = i0)<br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>not(i = i0)<br><br></span>
</span>

<span class="squirrel-step" id="step82">
<span class="input-line" id="in82"><br>            * auto.</span>
<span class="output-line" id="out82">[&gt; Line 166: auto <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j,j0:index,tau:timestamp<br>H: tau = <span class="ga" style="color: #00AA00">A(i0,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Neqi: not(i = i0)<br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step83">
<span class="input-line" id="in83"><br>            * use IH with pred(A(i0,j0)) =&gt; //.</span>
<span class="output-line" id="out83">[&gt; Line 167: ((have ... as );(intro //)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j,j0:index,tau:timestamp<br>H: tau = <span class="ga" style="color: #00AA00">A(i0,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Neqi: not(i = i0)<br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>)) &amp;&amp;<br><span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>) &amp;&amp;<br>forall (jj:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step84">
<span class="input-line" id="in84"><br>              repeat split =&gt; //.</span>
<span class="output-line" id="out84">[&gt; Line 168: ((repeat split);(intro //)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j,j0:index,tau:timestamp<br>H: tau = <span class="ga" style="color: #00AA00">A(i0,j0)</span><br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Neqi: not(i = i0)<br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (jj:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step85">
<span class="input-line" id="in85"><br>              intro jj H0.</span>
<span class="output-line" id="out85">[&gt; Line 169: (intro jj H0) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j,j0,jj:index,tau:timestamp<br>H: tau = <span class="ga" style="color: #00AA00">A(i0,j0)</span><br>H0: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>)<br>Hp: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>)<br>Hyp: forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0:timestamp),<br>      tau0 &lt; <span class="ga" style="color: #00AA00">A(i0,j0)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau0) &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau0 =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>Neqi: not(i = i0)<br>Ord: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= <span class="ga" style="color: #00AA00">A(i0,j0)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step86">
<span class="input-line" id="in86"><br>              use Hyp with jj =&gt; //.</span>
<span class="output-line" id="out86">[&gt; Line 170: ((have ... as );(intro //)) <br>[goal&gt; Goal lastupdate_A is proved <br></span>
</span>

<span class="squirrel-step" id="step87">
<span class="input-line" id="in87"><br>Qed.</span>
<span class="output-line" id="out87">Exiting proof mode.<br><br><br></span>
</span>

<span class="squirrel-step" id="step88">
<span class="input-line" id="in88"><br><br><br>goal lastupdate : forall (i:index,tau:timestamp), happens(tau) =&gt; (<br>  (s(i)@tau = s(i)@init &amp;&amp; forall j:index, happens(A(i,j)) =&gt; A(i,j)&gt;tau) ||<br>  (exists j:index,<br>    s(i)@tau = s(i)@A(i,j) &amp;&amp; A(i,j)&lt;=tau<br>    &amp;&amp; forall jj:index, happens(A(i,jj)) &amp;&amp; A(i,jj)&lt;=tau =&gt; A(i,jj)&lt;=A(i,j))).</span>
<span class="output-line" id="out88">Goal lastupdate :<br>  forall (i:index,tau:timestamp),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau) =&gt;<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span> &amp;&amp; forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau ||<br>    exists (j:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br></span>
</span>

<span class="squirrel-step" id="step89">
<span class="input-line" id="in89"><br>Proof.</span>
<span class="output-line" id="out89">[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (i:index,tau:timestamp),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau) =&gt;<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span> &amp;&amp; forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau ||<br>  exists (j:index),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp;<br>    <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau &amp;&amp;<br>    forall (jj:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step90">
<span class="input-line" id="in90"><br>  intro i tau Htau.</span>
<span class="output-line" id="out90">[&gt; Line 180: (intro i tau Htau) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i:index,tau:timestamp<br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span> &amp;&amp; forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau ||<br>exists (j:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau &amp;&amp;<br>  forall (jj:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step91">
<span class="input-line" id="in91"><br>  use lastupdate_pure with i, tau as [Hinit | [j [HAj1 HAj2 HAj3]]] =&gt; //.</span>
<span class="output-line" id="out91">[&gt; Line 181: ((have ... as [Hinit|[j [HAj1 HAj2 HAj3]]]);(intro //)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i:index,tau:timestamp<br>Hinit: forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau<br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span> &amp;&amp; forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau ||<br>exists (j:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau &amp;&amp;<br>  forall (jj:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step92">
<span class="input-line" id="in92"><br>    + left.</span>
<span class="output-line" id="out92">[&gt; Line 182: left <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i:index,tau:timestamp<br>Hinit: forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau<br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span> &amp;&amp; forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau<br><br></span>
</span>

<span class="squirrel-step" id="step93">
<span class="input-line" id="in93"><br>      split =&gt; //.</span>
<span class="output-line" id="out93">[&gt; Line 183: (split;(intro //)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i:index,tau:timestamp<br>Hinit: forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau<br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br><br></span>
</span>

<span class="squirrel-step" id="step94">
<span class="input-line" id="in94"><br>      by apply lastupdate_init.</span>
<span class="output-line" id="out94">[&gt; Line 184: by (apply ... ) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,j:index,tau:timestamp<br>HAj1: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br>HAj2: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>HAj3: forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span> &amp;&amp; forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau ||<br>exists (j:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau &amp;&amp;<br>  forall (jj:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step95">
<span class="input-line" id="in95"><br>    + right.</span>
<span class="output-line" id="out95">[&gt; Line 185: right <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,j:index,tau:timestamp<br>HAj1: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br>HAj2: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>HAj3: forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>exists (j:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp;<br>  <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau &amp;&amp;<br>  forall (jj:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step96">
<span class="input-line" id="in96"><br>      exists j.</span>
<span class="output-line" id="out96">[&gt; Line 186: (exists j) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,j:index,tau:timestamp<br>HAj1: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br>HAj2: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>HAj3: forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp;<br><span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau &amp;&amp;<br>forall (jj:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step97">
<span class="input-line" id="in97"><br>      repeat split =&gt; //.</span>
<span class="output-line" id="out97">[&gt; Line 187: ((repeat split);(intro //)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,j:index,tau:timestamp<br>HAj1: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br>HAj2: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>HAj3: forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>Htau: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br><br></span>
</span>

<span class="squirrel-step" id="step98">
<span class="input-line" id="in98"><br>      use lastupdate_A with i, j, tau =&gt; //.</span>
<span class="output-line" id="out98">[&gt; Line 188: ((have ... as );(intro //)) <br>[goal&gt; Goal lastupdate is proved <br></span>
</span>

<span class="squirrel-step" id="step99">
<span class="input-line" id="in99"><br>Qed.</span>
<span class="output-line" id="out99">Exiting proof mode.<br><br><br></span>
</span>

<span class="squirrel-step" id="step100">
<span class="input-line" id="in100">goal disjoint_chains :<br>  forall (tau',tau:timestamp,i',i:index) happens(tau',tau) =&gt;<br>  i&lt;&gt;i' =&gt;<br>  s(i)@tau &lt;&gt; s(i')@tau'.</span>
<span class="output-line" id="out100">Goal disjoint_chains :<br>  forall (tau',tau:timestamp,i',i:index),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau, tau') =&gt; i &lt;&gt; i' =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau'<br></span>
<span class="com-line" id="com100"><p>The contents of distinct memory cells never coincide.</p>
</span>
</span>

<span class="squirrel-step" id="step101">
<span class="input-line" id="in101"><br>Proof.</span>
<span class="output-line" id="out101">[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (tau',tau:timestamp,i',i:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau, tau') =&gt; i &lt;&gt; i' =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau'<br><br></span>
</span>

<span class="squirrel-step" id="step102">
<span class="input-line" id="in102"><br>  induction =&gt; tau' IH tau i' i D E Meq.</span>
<span class="output-line" id="out102">[&gt; Line 198: (induction;(intro tau' IH tau i' i D E Meq)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i':index,tau,tau':timestamp<br>D: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau, tau')<br>E: i &lt;&gt; i'<br>IH: forall (tau'0,tau:timestamp,i',i:index),<br>      tau'0 &lt; tau' =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau, tau'0) =&gt; i &lt;&gt; i' =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau'0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau'<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step103">
<span class="input-line" id="in103"><br>  use lastupdate with i,tau as [[A0 Hinit] | [j [A0 A1 Hsup]]] =&gt; //;<br>  use lastupdate with i',tau' as [[A Hinit'] | [j' [B C Hsup']]] =&gt; //.</span>
<span class="output-line" id="out103">[&gt; Line 200: ((((have ... as [[A0 Hinit]|[j [A0 A1 Hsup]]]);(intro //));<br>              (have ... as [[A Hinit']|[j' [B C Hsup']]]));<br>             (intro //))<br><br>[goal&gt; Focused goal (1/3):<br>System: left:default/left, right:default/right<br>Variables: i,i',j':index,tau,tau':timestamp<br>A0: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br>B: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="ga" style="color: #00AA00">A(i',j')</span><br>C: <span class="ga" style="color: #00AA00">A(i',j')</span> &lt;= tau'<br>D: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau, tau')<br>E: i &lt;&gt; i'<br>Hinit: forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau<br>Hsup': forall (jj:index),<br>         <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= tau' =&gt; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j')</span><br>IH: forall (tau'0,tau:timestamp,i',i:index),<br>      tau'0 &lt; tau' =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau, tau'0) =&gt; i &lt;&gt; i' =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau'0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau'<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step104">
<span class="input-line" id="in104"><br><br>    + rewrite -Meq A0 /s in B.</span>
<span class="output-line" id="out104">[&gt; Line 202: (rewrite ... ... ... in B) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left, right:default/right<br>Variables: i,i',j':index,tau,tau':timestamp<br>A0: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br>B: <span class="gn" style="color: #AA5500">s0</span>(i) = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j')</span>),<span class="gn" style="color: #AA5500">k</span>)<br>C: <span class="ga" style="color: #00AA00">A(i',j')</span> &lt;= tau'<br>D: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau, tau')<br>E: i &lt;&gt; i'<br>Hinit: forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j)</span> &gt; tau<br>Hsup': forall (jj:index),<br>         <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= tau' =&gt; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j')</span><br>IH: forall (tau'0,tau:timestamp,i',i:index),<br>      tau'0 &lt; tau' =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau, tau'0) =&gt; i &lt;&gt; i' =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau'0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau'<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step105">
<span class="input-line" id="in105"><br>      by fresh B.</span>
<span class="output-line" id="out105">[&gt; Line 203: by (fresh B) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,i',j:index,tau,tau':timestamp<br>A: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="ga" style="color: #00AA00">init</span><br>A0: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>A1: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>D: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau, tau')<br>E: i &lt;&gt; i'<br>Hinit': forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i',j)</span> &gt; tau'<br>Hsup: forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau'0,tau:timestamp,i',i:index),<br>      tau'0 &lt; tau' =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau, tau'0) =&gt; i &lt;&gt; i' =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau'0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau'<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step106">
<span class="input-line" id="in106"><br><br>    + rewrite Meq A /s in A0.</span>
<span class="output-line" id="out106">[&gt; Line 205: (rewrite ... ... ... in A0) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,i',j:index,tau,tau':timestamp<br>A: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="ga" style="color: #00AA00">init</span><br>A0: <span class="gn" style="color: #AA5500">s0</span>(i') = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>A1: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>D: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau, tau')<br>E: i &lt;&gt; i'<br>Hinit': forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i',j)</span> &gt; tau'<br>Hsup: forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau'0,tau:timestamp,i',i:index),<br>      tau'0 &lt; tau' =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau, tau'0) =&gt; i &lt;&gt; i' =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau'0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau'<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step107">
<span class="input-line" id="in107"><br>      by fresh A0.</span>
<span class="output-line" id="out107">[&gt; Line 206: by (fresh A0) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i',j,j':index,tau,tau':timestamp<br>A0: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>A1: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>B: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="ga" style="color: #00AA00">A(i',j')</span><br>C: <span class="ga" style="color: #00AA00">A(i',j')</span> &lt;= tau'<br>D: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau, tau')<br>E: i &lt;&gt; i'<br>Hsup: forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>Hsup': forall (jj:index),<br>         <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= tau' =&gt; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j')</span><br>IH: forall (tau'0,tau:timestamp,i',i:index),<br>      tau'0 &lt; tau' =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau, tau'0) =&gt; i &lt;&gt; i' =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau'0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau'<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step108">
<span class="input-line" id="in108"><br><br>    + rewrite Meq B /s in A0.</span>
<span class="output-line" id="out108">[&gt; Line 208: (rewrite ... ... ... in A0) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i',j,j':index,tau,tau':timestamp<br>A0: <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j')</span>),<span class="gn" style="color: #AA5500">k</span>) = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>A1: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>B: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="ga" style="color: #00AA00">A(i',j')</span><br>C: <span class="ga" style="color: #00AA00">A(i',j')</span> &lt;= tau'<br>D: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau, tau')<br>E: i &lt;&gt; i'<br>Hsup: forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>Hsup': forall (jj:index),<br>         <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= tau' =&gt; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j')</span><br>IH: forall (tau'0,tau:timestamp,i',i:index),<br>      tau'0 &lt; tau' =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau, tau'0) =&gt; i &lt;&gt; i' =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau'0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau'<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step109">
<span class="input-line" id="in109"><br>      collision A0 =&gt; H.</span>
<span class="output-line" id="out109">[&gt; Line 209: ((collision A0);(intro H)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i',j,j':index,tau,tau':timestamp<br>A0: <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j')</span>),<span class="gn" style="color: #AA5500">k</span>) = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>A1: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>B: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="ga" style="color: #00AA00">A(i',j')</span><br>C: <span class="ga" style="color: #00AA00">A(i',j')</span> &lt;= tau'<br>D: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau, tau')<br>E: i &lt;&gt; i'<br>H: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j')</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br>Hsup: forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= tau =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j)</span><br>Hsup': forall (jj:index),<br>         <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= tau' =&gt; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j')</span><br>IH: forall (tau'0,tau:timestamp,i',i:index),<br>      tau'0 &lt; tau' =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau, tau'0) =&gt; i &lt;&gt; i' =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau'0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau'<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step110">
<span class="input-line" id="in110"><br>      use IH with pred(A(i',j')),pred(A(i,j)),i',i =&gt; //.</span>
<span class="output-line" id="out110">[&gt; Line 210: ((have ... as );(intro //)) <br>[goal&gt; Goal disjoint_chains is proved <br></span>
</span>

<span class="squirrel-step" id="step111">
<span class="input-line" id="in111"><br>Qed.</span>
<span class="output-line" id="out111">Exiting proof mode.<br><br><br></span>
</span>

<span class="squirrel-step" id="step112">
<span class="input-line" id="in112">goal monotonic_chain :<br>  forall (tau,tau':timestamp,i,j:index) happens(tau,A(i,j)) =&gt; (<br>    (s(i)@tau = s(i)@A(i,j) &amp;&amp; tau' &lt; A(i,j) &amp;&amp; A(i,j) &lt;= tau)<br>    =&gt; s(i)@tau' &lt;&gt; s(i)@tau).</span>
<span class="output-line" id="out112">Goal monotonic_chain :<br>  forall (tau,tau':timestamp,i,j:index),<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau) =&gt;<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau =&gt;<br>    <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau<br></span>
<span class="com-line" id="com112"><p>Values do not repeat inside the same chain of hashes.</p>
</span>
</span>

<span class="squirrel-step" id="step113">
<span class="input-line" id="in113"><br>Proof.</span>
<span class="output-line" id="out113">[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (tau,tau':timestamp,i,j:index),<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau) =&gt;<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau =&gt;<br>  <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau<br><br></span>
</span>

<span class="squirrel-step" id="step114">
<span class="input-line" id="in114"><br>  induction =&gt; tau IH tau' i j Hap [H1 H2 H3] Meq.</span>
<span class="output-line" id="out114">[&gt; Line 220: (induction;(intro tau IH tau' i j Hap [H1 H2 H3] Meq)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,j:index,tau,tau':timestamp<br>H1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>H2: tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>H3: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>Hap: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau)<br>IH: forall (tau0,tau':timestamp,i,j:index),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step115">
<span class="input-line" id="in115"><br>  assert s(i)@tau' = s(i)@A(i,j) as Meq' by auto.</span>
<span class="output-line" id="out115">[&gt; Line 221: ((have (s(i)@tau' = s(i)@A(i,j)), Meq'); 1: by auto) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,j:index,tau,tau':timestamp<br>H1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br>H2: tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>H3: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>Hap: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau)<br>IH: forall (tau0,tau':timestamp,i,j:index),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau<br>Meq': <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span><br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step116">
<span class="input-line" id="in116"><br>  expand s(i)@A(i,j).</span>
<span class="output-line" id="out116">[&gt; Line 222: (expand s(i)@A(i,j)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,j:index,tau,tau':timestamp<br>H1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>H2: tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>H3: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>Hap: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau)<br>IH: forall (tau0,tau':timestamp,i,j:index),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau<br>Meq': <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step117">
<span class="input-line" id="in117"><br>  euf Meq'.</span>
<span class="output-line" id="out117">[&gt; Line 223: (euf Meq') <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j,j0:index,tau,tau':timestamp<br>H1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>H2: tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>H3: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>Hap: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau)<br>IH: forall (tau0,tau':timestamp,i,j:index),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau<br>Meq': <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt;= tau' || <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt;<br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i0)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; false<br><br></span>
</span>

<span class="squirrel-step" id="step118">
<span class="input-line" id="in118"><br>  intro Heuf Meuf *.</span>
<span class="output-line" id="out118">[&gt; Line 224: (intro Heuf Meuf *) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j,j0:index,tau,tau':timestamp<br>H1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>H2: tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>H3: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>Hap: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau)<br>Heuf: <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt;= tau' || <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0,tau':timestamp,i,j:index),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau<br>Meq': <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>Meuf: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i0)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step119">
<span class="input-line" id="in119"><br>  assert i=i0 || i&lt;&gt;i0 as [H0|H0] by auto.</span>
<span class="output-line" id="out119">[&gt; Line 225: ((have ((i = i0) || (i &lt;&gt; i0)), [H0|H0]); 1: by auto) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0:index,tau,tau':timestamp<br>H1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>H2: tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>H3: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>Hap: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau)<br>Heuf: <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= tau' || <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0,tau':timestamp,i,j:index),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau<br>Meq': <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>Meuf: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step120">
<span class="input-line" id="in120"><br>  + (* i = i0 *)<br>    use lastupdate with i,pred(A(i,j)) as H4; 2: by auto.</span>
<span class="output-line" id="out120">[&gt; Line 227: ((have ... as H4); 2: by auto) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0:index,tau,tau':timestamp<br>H1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>H2: tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>H3: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>H4: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span> &amp;&amp;<br>    forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) ||<br>    exists (j0:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j0)</span> &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br>Hap: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau)<br>Heuf: <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= tau' || <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0,tau':timestamp,i,j:index),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau<br>Meq': <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>Meuf: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step121">
<span class="input-line" id="in121"><br>    case H4.</span>
<span class="output-line" id="out121">[&gt; Line 228: (case H4) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0:index,tau,tau':timestamp<br>H1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>H2: tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>H3: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>H4: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span> &amp;&amp;<br>    forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br>Hap: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau)<br>Heuf: <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= tau' || <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0,tau':timestamp,i,j:index),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau<br>Meq': <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>Meuf: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step122">
<span class="input-line" id="in122"><br>      - (* case H4 - init *)<br>        destruct H4 as [H4 H4'].</span>
<span class="output-line" id="out122">[&gt; Line 230: (destruct H4, [H4 H4']) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0:index,tau,tau':timestamp<br>H1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>H2: tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>H3: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>H4: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">init</span><br>H4': forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,j0)</span> &gt; <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br>Hap: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau)<br>Heuf: <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= tau' || <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0,tau':timestamp,i,j:index),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau<br>Meq': <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>Meuf: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step123">
<span class="input-line" id="in123"><br>        use H4' with j0; 1,2: case Heuf; auto.</span>
<span class="output-line" id="out123">[&gt; Line 231: ((have ... as ); 1,2: ((case Heuf);auto)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0:index,tau,tau':timestamp<br>H1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>H2: tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>H3: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>H4: exists (j0:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j0)</span> &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j0)</span><br>Hap: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau)<br>Heuf: <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= tau' || <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0,tau':timestamp,i,j:index),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau<br>Meq': <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>Meuf: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step124">
<span class="input-line" id="in124"><br>      - (* case H1 - general *)<br>        destruct H4 as [j1 [Meq1 H4 H5]].</span>
<span class="output-line" id="out124">[&gt; Line 233: (destruct H4, [j1 [Meq1 H4 H5]]) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0,j1:index,tau,tau':timestamp<br>H1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>H2: tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>H3: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>H4: <span class="ga" style="color: #00AA00">A(i,j1)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br>H5: forall (jj:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j1)</span><br>Hap: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau)<br>Heuf: <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= tau' || <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0,tau':timestamp,i,j:index),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau<br>Meq': <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>Meq1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j1)</span><br>Meuf: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step125">
<span class="input-line" id="in125"><br>        use IH with pred(A(i,j)),pred(A(i,j0)),i,j1 as H; try auto.</span>
<span class="output-line" id="out125">[&gt; Line 234: ((have ... as H);(try auto)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0,j1:index,tau,tau':timestamp<br>H1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>H2: tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>H3: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>H4: <span class="ga" style="color: #00AA00">A(i,j1)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br>H5: forall (jj:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j1)</span><br>Hap: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau)<br>Heuf: <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= tau' || <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0,tau':timestamp,i,j:index),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau<br>Meq': <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>Meq1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j1)</span><br>Meuf: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j1)</span> &amp;&amp;<br><span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &lt; <span class="ga" style="color: #00AA00">A(i,j1)</span> &amp;&amp; <span class="ga" style="color: #00AA00">A(i,j1)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br><br></span>
</span>

<span class="squirrel-step" id="step126">
<span class="input-line" id="in126"><br>        repeat split =&gt; //.</span>
<span class="output-line" id="out126">[&gt; Line 235: ((repeat split);(intro //)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/right<br>Variables: i,j,j0,j1:index,tau,tau':timestamp<br>H1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>H2: tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>H3: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>H4: <span class="ga" style="color: #00AA00">A(i,j1)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br>H5: forall (jj:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i,jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i,j1)</span><br>Hap: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau)<br>Heuf: <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= tau' || <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0,tau':timestamp,i,j:index),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau<br>Meq': <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>Meq1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j1)</span><br>Meuf: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>) &lt; <span class="ga" style="color: #00AA00">A(i,j1)</span><br><br></span>
</span>

<span class="squirrel-step" id="step127">
<span class="input-line" id="in127"><br>        use H5 with j0; 1,2: case Heuf; auto.</span>
<span class="output-line" id="out127">[&gt; Line 236: ((have ... as ); 1,2: ((case Heuf);auto)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j,j0:index,tau,tau':timestamp<br>H0: i &lt;&gt; i0<br>H1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>H2: tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>H3: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>Hap: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau)<br>Heuf: <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt;= tau' || <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0,tau':timestamp,i,j:index),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau<br>Meq': <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>Meuf: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i0)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step128">
<span class="input-line" id="in128"><br>  + (* case i&lt;&gt;i0 *)<br>    use disjoint_chains with pred(A(i0,j0)),pred(A(i,j)),i0,i =&gt; //.</span>
<span class="output-line" id="out128">[&gt; Line 238: ((have ... as );(intro //)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/right<br>Variables: i,i0,j,j0:index,tau,tau':timestamp<br>H0: i &lt;&gt; i0<br>H1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>H2: tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>H3: <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau<br>Hap: <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau)<br>Heuf: <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt;= tau' || <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>IH: forall (tau0,tau':timestamp,i,j:index),<br>      tau0 &lt; tau =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>, tau0) =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0 = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; tau' &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> &amp;&amp; <span class="ga" style="color: #00AA00">A(i,j)</span> &lt;= tau0 =&gt;<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau0<br>Meq: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau<br>Meq': <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<span class="gn" style="color: #AA5500">k</span>)<br>Meuf: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i0)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>), <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>))<br><br></span>
</span>

<span class="squirrel-step" id="step129">
<span class="input-line" id="in129"><br>    by case Heuf.</span>
<span class="output-line" id="out129">[&gt; Line 239: by (case Heuf) <br>[goal&gt; Goal monotonic_chain is proved <br></span>
</span>

<span class="squirrel-step" id="step130">
<span class="input-line" id="in130"><br>Qed.</span>
<span class="output-line" id="out130">Exiting proof mode.<br><br><br></span>
</span>

<span class="squirrel-step" id="step131">
<span class="input-line" id="in131"><br><br><br>(* SECURITY PROPERTIES *)<br><br>name m : message.</span>
<span class="output-line" id="out131"></span>
</span>

<span class="squirrel-step" id="step132">
<span class="input-line" id="in132"><br><br>global goal [default/left,default/left]<br>  strong_secrecy (tau:timestamp) : forall (i':index,tau':timestamp),<br>    [happens(tau)] -&gt; [happens(tau')] -&gt; equiv(frame@tau, diff(s(i')@tau',m)).</span>
<span class="output-line" id="out132">Goal strong_secrecy :<br>  forall tau:timestamp,<br>  Forall (i':index,tau':timestamp),<br>    [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)] -&gt;<br>    [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@tau, diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br></span>
</span>

<span class="squirrel-step" id="step133">
<span class="input-line" id="in133"><br>Proof.</span>
<span class="output-line" id="out133">[goal&gt; Focused goal (1/1):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: tau:timestamp<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>Forall (i':index,tau':timestamp),<br>  [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau)] -&gt; [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@tau, diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><br></span>
</span>

<span class="squirrel-step" id="step134">
<span class="input-line" id="in134"><br>  induction tau =&gt; i' tau' Htau Htau'.</span>
<span class="output-line" id="out134">[&gt; Line 251: ((induction tau);(intro i' tau' Htau Htau')) <br>[goal&gt; Focused goal (1/3):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i':index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">init</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: <span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="ga" style="color: #00AA00">init</span><br>1: diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step135">
<span class="input-line" id="in135"><br><br>  + (* Init *)<br>    expand frame@init.</span>
<span class="output-line" id="out135">[&gt; Line 254: (expand frame@init) <br>[goal&gt; Focused goal (1/3):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i':index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">init</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step136">
<span class="input-line" id="in136"><br>    use lastupdate_pure with i',tau' as [Hinit | [j HA]]; try auto.</span>
<span class="output-line" id="out136">[&gt; Line 255: ((have ... as [Hinit|[j HA]]);(try auto)) <br>[goal&gt; Focused goal (1/4):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i':index,tau':timestamp<br>Hinit: [forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i',j)</span> &gt; tau']<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">init</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step137">
<span class="input-line" id="in137"><br><br>    - use lastupdate_init with i',tau' as H; try auto.</span>
<span class="output-line" id="out137">[&gt; Line 257: ((have ... as H);(try auto)) <br>[goal&gt; Focused goal (1/4):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i':index,tau':timestamp<br>H: [<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="ga" style="color: #00AA00">init</span>]<br>Hinit: [forall (j:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i',j)</span> &gt; tau']<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">init</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step138">
<span class="input-line" id="in138"><br>      rewrite H; expand s(i')@init; fresh 0; auto.</span>
<span class="output-line" id="out138">[&gt; Line 258: ((rewrite ...);((expand s(i')@init);((fresh 0);auto))) <br>[goal&gt; Focused goal (1/3):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i',j:index,tau':timestamp<br>HA: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) &amp;&amp;<br>     <span class="ga" style="color: #00AA00">A(i',j)</span> &lt;= tau' &amp;&amp;<br>     forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= tau' =&gt; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j)</span>]<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">init</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step139">
<span class="input-line" id="in139"><br><br>    - use lastupdate_A with i',j,tau' as H; try auto.</span>
<span class="output-line" id="out139">[&gt; Line 260: ((have ... as H);(try auto)) <br>[goal&gt; Focused goal (1/3):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i',j:index,tau':timestamp<br>H: [<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau' = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="ga" style="color: #00AA00">A(i',j)</span>]<br>HA: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) &amp;&amp;<br>     <span class="ga" style="color: #00AA00">A(i',j)</span> &lt;= tau' &amp;&amp;<br>     forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= tau' =&gt; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j)</span>]<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">init</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step140">
<span class="input-line" id="in140"><br>      rewrite H in *; expand s(i')@A(i',j).</span>
<span class="output-line" id="out140">[&gt; Line 261: ((rewrite ... in *);(expand s(i')@A(i',j))) <br>[goal&gt; Focused goal (1/3):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i',j:index,tau':timestamp<br>H: [<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>),<span class="gn" style="color: #AA5500">k</span>)]<br>HA: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) &amp;&amp;<br>     <span class="ga" style="color: #00AA00">A(i',j)</span> &lt;= tau' &amp;&amp;<br>     forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= tau' =&gt; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j)</span>]<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">init</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: diff(<span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>),<span class="gn" style="color: #AA5500">k</span>), <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step141">
<span class="input-line" id="in141"><br>      prf 0; rewrite if_true; [2: by fresh 0].</span>
<span class="output-line" id="out141">[&gt; Line 262: ((prf 0);((rewrite ...); 2: by (fresh 0))) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left<br>        (equivalences: left:default/left, right:default/left)<br>Variables: i',j:index,tau':timestamp<br>H: [<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>),<span class="gn" style="color: #AA5500">k</span>)]<br>HA: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) &amp;&amp;<br>     <span class="ga" style="color: #00AA00">A(i',j)</span> &lt;= tau' &amp;&amp;<br>     forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= tau' =&gt; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j)</span>]<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">init</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>true &amp;&amp;<br>forall (j0:index),<br>  <span class="ga" style="color: #00AA00">A(i',j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i',j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j0)</span>)<br><br></span>
</span>

<span class="squirrel-step" id="step142">
<span class="input-line" id="in142"><br>      simpl.</span>
<span class="output-line" id="out142">[&gt; Line 263: simpl <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left<br>        (equivalences: left:default/left, right:default/left)<br>Variables: i',j:index,tau':timestamp<br>H: [<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>),<span class="gn" style="color: #AA5500">k</span>)]<br>HA: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) &amp;&amp;<br>     <span class="ga" style="color: #00AA00">A(i',j)</span> &lt;= tau' &amp;&amp;<br>     forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= tau' =&gt; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j)</span>]<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">init</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (j0:index),<br>  <span class="ga" style="color: #00AA00">A(i',j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i',j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j0)</span>)<br><br></span>
</span>

<span class="squirrel-step" id="step143">
<span class="input-line" id="in143"> intro j0 HAi0.</span>
<span class="output-line" id="out143">[&gt; Line 263: (intro j0 HAi0) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left<br>        (equivalences: left:default/left, right:default/left)<br>Variables: i',j,j0:index,tau':timestamp<br>H: [<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>),<span class="gn" style="color: #AA5500">k</span>)]<br>HA: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) &amp;&amp;<br>     <span class="ga" style="color: #00AA00">A(i',j)</span> &lt;= tau' &amp;&amp;<br>     forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= tau' =&gt; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j)</span>]<br>HAi0: <span class="ga" style="color: #00AA00">A(i',j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i',j)</span><br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">init</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j0)</span>)<br><br></span>
</span>

<span class="squirrel-step" id="step144">
<span class="input-line" id="in144"><br>      use lastupdate with i',pred(A(i',j)) as [[H1 H2] | H1]; try auto.</span>
<span class="output-line" id="out144">[&gt; Line 264: ((have ... as [[H1 H2]|H1]);(try auto)) <br>[goal&gt; Focused goal (1/4):<br>System: left:default/left<br>        (equivalences: left:default/left, right:default/left)<br>Variables: i',j,j0:index,tau':timestamp<br>H: [<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>),<span class="gn" style="color: #AA5500">k</span>)]<br>H1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="ga" style="color: #00AA00">init</span><br>H2: forall (j0:index), <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',j0)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i',j0)</span> &gt; <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>)<br>HA: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) &amp;&amp;<br>     <span class="ga" style="color: #00AA00">A(i',j)</span> &lt;= tau' &amp;&amp;<br>     forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= tau' =&gt; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j)</span>]<br>HAi0: <span class="ga" style="color: #00AA00">A(i',j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i',j)</span><br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">init</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j0)</span>)<br><br></span>
</span>

<span class="squirrel-step" id="step145">
<span class="input-line" id="in145"><br>        * use H2 with j0 as H3; try auto.</span>
<span class="output-line" id="out145">[&gt; Line 265: ((have ... as H3);(try auto)) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left<br>        (equivalences: left:default/left, right:default/left)<br>Variables: i',j,j0:index,tau':timestamp<br>H: [<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>),<span class="gn" style="color: #AA5500">k</span>)]<br>H1: exists (j0:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="ga" style="color: #00AA00">A(i',j0)</span> &amp;&amp;<br>      <span class="ga" style="color: #00AA00">A(i',j0)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) &amp;&amp;<br>      forall (jj:index),<br>        <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) =&gt;<br>        <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j0)</span><br>HA: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) &amp;&amp;<br>     <span class="ga" style="color: #00AA00">A(i',j)</span> &lt;= tau' &amp;&amp;<br>     forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= tau' =&gt; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j)</span>]<br>HAi0: <span class="ga" style="color: #00AA00">A(i',j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i',j)</span><br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">init</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j0)</span>)<br><br></span>
</span>

<span class="squirrel-step" id="step146">
<span class="input-line" id="in146"><br>        * destruct H1 as [j1 [H1 H2 H3]].</span>
<span class="output-line" id="out146">[&gt; Line 266: (destruct H1, [j1 [H1 H2 H3]]) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left<br>        (equivalences: left:default/left, right:default/left)<br>Variables: i',j,j0,j1:index,tau':timestamp<br>H: [<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>),<span class="gn" style="color: #AA5500">k</span>)]<br>H1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="ga" style="color: #00AA00">A(i',j1)</span><br>H2: <span class="ga" style="color: #00AA00">A(i',j1)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>)<br>H3: forall (jj:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j1)</span><br>HA: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) &amp;&amp;<br>     <span class="ga" style="color: #00AA00">A(i',j)</span> &lt;= tau' &amp;&amp;<br>     forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= tau' =&gt; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j)</span>]<br>HAi0: <span class="ga" style="color: #00AA00">A(i',j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i',j)</span><br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">init</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j0)</span>)<br><br></span>
</span>

<span class="squirrel-step" id="step147">
<span class="input-line" id="in147"><br>          use monotonic_chain with pred(A(i',j)),pred(A(i',j0)),i',j1 =&gt; //.</span>
<span class="output-line" id="out147">[&gt; Line 267: ((have ... as );(intro //)) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left<br>        (equivalences: left:default/left, right:default/left)<br>Variables: i',j,j0,j1:index,tau':timestamp<br>H: [<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>),<span class="gn" style="color: #AA5500">k</span>)]<br>H1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="ga" style="color: #00AA00">A(i',j1)</span><br>H2: <span class="ga" style="color: #00AA00">A(i',j1)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>)<br>H3: forall (jj:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j1)</span><br>HA: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) &amp;&amp;<br>     <span class="ga" style="color: #00AA00">A(i',j)</span> &lt;= tau' &amp;&amp;<br>     forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= tau' =&gt; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j)</span>]<br>HAi0: <span class="ga" style="color: #00AA00">A(i',j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i',j)</span><br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">init</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="ga" style="color: #00AA00">A(i',j1)</span> &amp;&amp;<br><span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j0)</span>) &lt; <span class="ga" style="color: #00AA00">A(i',j1)</span> &amp;&amp; <span class="ga" style="color: #00AA00">A(i',j1)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>)<br><br></span>
</span>

<span class="squirrel-step" id="step148">
<span class="input-line" id="in148"><br>          repeat split; try auto.</span>
<span class="output-line" id="out148">[&gt; Line 268: ((repeat split);(try auto)) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left<br>        (equivalences: left:default/left, right:default/left)<br>Variables: i',j,j0,j1:index,tau':timestamp<br>H: [<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau' = <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>),<span class="gn" style="color: #AA5500">k</span>)]<br>H1: <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) = <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@<span class="ga" style="color: #00AA00">A(i',j1)</span><br>H2: <span class="ga" style="color: #00AA00">A(i',j1)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>)<br>H3: forall (jj:index),<br>      <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) =&gt; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j1)</span><br>HA: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',j)</span>) &amp;&amp;<br>     <span class="ga" style="color: #00AA00">A(i',j)</span> &lt;= tau' &amp;&amp;<br>     forall (jj:index),<br>       <span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i',jj)</span>) &amp;&amp; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= tau' =&gt; <span class="ga" style="color: #00AA00">A(i',jj)</span> &lt;= <span class="ga" style="color: #00AA00">A(i',j)</span>]<br>HAi0: <span class="ga" style="color: #00AA00">A(i',j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i',j)</span><br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">init</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i',j0)</span>) &lt; <span class="ga" style="color: #00AA00">A(i',j1)</span><br><br></span>
</span>

<span class="squirrel-step" id="step149">
<span class="input-line" id="in149"><br>          use H3 with j0 as H4; try auto.</span>
<span class="output-line" id="out149">[&gt; Line 269: ((have ... as H4);(try auto)) <br>[goal&gt; Focused goal (1/2):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: <span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="ga" style="color: #00AA00">O(j)</span><br>1: diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step150">
<span class="input-line" id="in150"><br><br>  + (* Oracle *)<br>     expand frame, exec, cond, output.</span>
<span class="output-line" id="out150">[&gt; Line 272: (expand frame, exec, cond, output) <br>[goal&gt; Focused goal (1/2):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: &lt;<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>),<br>    &lt;<span class="gf" style="font-weight: bold">of_bool</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">exec</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>) &amp;&amp; true),<br>     if (<span class="gm" style="font-weight: bold; color: #AA00AA">exec</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>) &amp;&amp; true) then &lt;<span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span>,<span class="gn" style="color: #AA5500">k</span>),<span class="gf" style="font-weight: bold">G</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span>,<span class="gn" style="color: #AA5500">k'</span>)&gt;&gt;&gt;<br>1: diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step151">
<span class="input-line" id="in151"><br>     fa !&lt;_,_&gt;, if _ then _, (_ &amp;&amp; _), &lt;_,_&gt;.</span>
<span class="output-line" id="out151">[&gt; Line 273: (fa  !pair(_,_) <span>if</span> _ <span>then</span> _ <span>else</span> zero (_ &amp;&amp; _) pair(_,_)) <br>[goal&gt; Focused goal (1/2):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: <span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>1: <span class="gf" style="font-weight: bold">H</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span>,<span class="gn" style="color: #AA5500">k</span>)<br>2: <span class="gf" style="font-weight: bold">G</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span>,<span class="gn" style="color: #AA5500">k'</span>)<br>3: diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step152">
<span class="input-line" id="in152"><br>     prf 1; rewrite if_true; 2: fresh 1.</span>
<span class="output-line" id="out152">[&gt; Line 274: ((prf 1);((rewrite ...); 2: (fresh 1))) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left, right:default/left (same for equivalences)<br>Variables: i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>true &amp;&amp;<br>(forall (j0:index), <span class="ga" style="color: #00AA00">O(j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j0)</span>) &amp;&amp;<br>forall (i,j0:index),<br>  diff(<span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= tau' || <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>),<br>    <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>))<br><br></span>
</span>

<span class="squirrel-step" id="step153">
<span class="input-line" id="in153"> {<br>       simpl; split.</span>
<span class="output-line" id="out153">[&gt; Line 275: (simpl;split) <br>[goal&gt; Focused goal (1/4):<br>System: left:default/left, right:default/left (same for equivalences)<br>Variables: i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (j0:index), <span class="ga" style="color: #00AA00">O(j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step154">
<span class="input-line" id="in154"><br>       * intro j0 H.</span>
<span class="output-line" id="out154">[&gt; Line 276: (intro j0 H) <br>[goal&gt; Focused goal (1/4):<br>System: left:default/left, right:default/left (same for equivalences)<br>Variables: i',j,j0:index,tau':timestamp<br>H: <span class="ga" style="color: #00AA00">O(j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span><br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step155">
<span class="input-line" id="in155"><br>         by apply unique_queries.</span>
<span class="output-line" id="out155">[&gt; Line 277: by (apply ... ) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left, right:default/left (same for equivalences)<br>Variables: i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (i,j0:index),<br>  diff(<span class="ga" style="color: #00AA00">A(i,j0)</span> &lt;= tau' || <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>),<br>    <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j0)</span>))<br><br></span>
</span>

<span class="squirrel-step" id="step156">
<span class="input-line" id="in156"><br>       * intro i0 j0.</span>
<span class="output-line" id="out156">[&gt; Line 278: (intro i0 j0) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left, right:default/left (same for equivalences)<br>Variables: i',i0,j,j0:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>diff(<br>  <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt;= tau' || <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i0)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>),<br>  <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i0)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>))<br><br></span>
</span>

<span class="squirrel-step" id="step157">
<span class="input-line" id="in157"><br>         project.</span>
<span class="output-line" id="out157">[&gt; Line 279: project <br>[goal&gt; Focused goal (1/4):<br>System: left:default/left<br>        (equivalences: left:default/left, right:default/left)<br>Variables: i',i0,j,j0:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt;= tau' || <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i0)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>)<br><br></span>
</span>

<span class="squirrel-step" id="step158">
<span class="input-line" id="in158"><br>         ** intro H; destruct H as [H1|H2].</span>
<span class="output-line" id="out158">[&gt; Line 280: ((intro H);(destruct H, [H1|H2])) <br>[goal&gt; Focused goal (1/5):<br>System: left:default/left<br>        (equivalences: left:default/left, right:default/left)<br>Variables: i',i0,j,j0:index,tau':timestamp<br>H1: <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt;= tau'<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i0)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>)<br><br></span>
</span>

<span class="squirrel-step" id="step159">
<span class="input-line" id="in159"><br>            *** rewrite equiv IH i0 (pred(A(i0,j0))) =&gt; // Hf; by fresh Hf.</span>
<span class="output-line" id="out159">[&gt; Line 281: (((rewrite equiv ...);(intro // Hf));by (fresh Hf)) <br>[goal&gt; Focused goal (1/4):<br>System: left:default/left<br>        (equivalences: left:default/left, right:default/left)<br>Variables: i',i0,j,j0:index,tau':timestamp<br>H2: <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span><br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i0)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>)<br><br></span>
</span>

<span class="squirrel-step" id="step160">
<span class="input-line" id="in160"><br>            *** rewrite equiv IH i0 (pred(A(i0,j0))) =&gt; // Hf; by fresh Hf.</span>
<span class="output-line" id="out160">[&gt; Line 282: (((rewrite equiv ...);(intro // Hf));by (fresh Hf)) <br>[goal&gt; Focused goal (1/3):<br>System: right:default/left<br>        (equivalences: left:default/left, right:default/left)<br>Variables: i',i0,j,j0:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i0)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>)<br><br></span>
</span>

<span class="squirrel-step" id="step161">
<span class="input-line" id="in161"><br>         ** intro  H.</span>
<span class="output-line" id="out161">[&gt; Line 283: (intro H) <br>[goal&gt; Focused goal (1/3):<br>System: right:default/left<br>        (equivalences: left:default/left, right:default/left)<br>Variables: i',i0,j,j0:index,tau':timestamp<br>H: <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span><br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i0)@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i0,j0)</span>)<br><br></span>
</span>

<span class="squirrel-step" id="step162">
<span class="input-line" id="in162"> rewrite equiv IH i0 (pred(A(i0,j0))) =&gt; // Hf; by fresh Hf.</span>
<span class="output-line" id="out162">[&gt; Line 283: (((rewrite equiv ...);(intro // Hf));by (fresh Hf)) <br>[goal&gt; Focused goal (1/2):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: <span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>1: <span class="gf" style="font-weight: bold">G</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span>,<span class="gn" style="color: #AA5500">k'</span>)<br>2: diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step163">
<span class="input-line" id="in163"><br>     }.</span>
<span class="output-line" id="out163">[&gt; Line 284: ?? <br>[goal&gt; Focused goal (1/2):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: <span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>)<br>1: <span class="gf" style="font-weight: bold">G</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span>,<span class="gn" style="color: #AA5500">k'</span>)<br>2: diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step164">
<span class="input-line" id="in164"><br>     prf 1; rewrite if_true; 2: fresh 1; by apply IH.</span>
<span class="output-line" id="out164">[&gt; Line 285: ((prf 1);((rewrite ...); 2: ((fresh 1);by (apply ... )))) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/left (same for equivalences)<br>Variables: i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>true &amp;&amp;<br>(forall (j0:index), <span class="ga" style="color: #00AA00">O(j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j0)</span>) &amp;&amp;<br>forall (i,j0:index), <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step165">
<span class="input-line" id="in165"><br>     simpl; split.</span>
<span class="output-line" id="out165">[&gt; Line 286: (simpl;split) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left, right:default/left (same for equivalences)<br>Variables: i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (j0:index), <span class="ga" style="color: #00AA00">O(j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step166">
<span class="input-line" id="in166"><br>       * intro j0 H.</span>
<span class="output-line" id="out166">[&gt; Line 287: (intro j0 H) <br>[goal&gt; Focused goal (1/3):<br>System: left:default/left, right:default/left (same for equivalences)<br>Variables: i',j,j0:index,tau':timestamp<br>H: <span class="ga" style="color: #00AA00">O(j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span><br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step167">
<span class="input-line" id="in167"><br>         apply unique_queries; auto.</span>
<span class="output-line" id="out167">[&gt; Line 288: ((apply ... );auto) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/left (same for equivalences)<br>Variables: i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (i,j0:index), <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step168">
<span class="input-line" id="in168"><br>       * intro i0 j0 H.</span>
<span class="output-line" id="out168">[&gt; Line 289: (intro i0 j0 H) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/left (same for equivalences)<br>Variables: i',i0,j,j0:index,tau':timestamp<br>H: <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span><br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i0)@<span class="ga" style="color: #00AA00">A(i0,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step169">
<span class="input-line" id="in169"><br>         rewrite equiv IH i0 (A(i0,j0)) =&gt; // Hf.</span>
<span class="output-line" id="out169">[&gt; Line 290: ((rewrite equiv ...);(intro // Hf)) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/left (same for equivalences)<br>Variables: i',i0,j,j0:index,tau':timestamp<br>H: <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt; <span class="ga" style="color: #00AA00">O(j)</span><br>Hf: <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j)</span> = <span class="gn" style="color: #AA5500">m</span><br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">O(j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">O(j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>false<br><br></span>
</span>

<span class="squirrel-step" id="step170">
<span class="input-line" id="in170"><br>         by fresh Hf.</span>
<span class="output-line" id="out170">[&gt; Line 291: by (fresh Hf) <br>[goal&gt; Focused goal (1/1):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i,i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: <span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="ga" style="color: #00AA00">A(i,j)</span><br>1: diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step171">
<span class="input-line" id="in171"><br><br>   + (* Tag *)<br>  expand frame@A(i,j).</span>
<span class="output-line" id="out171">[&gt; Line 294: (expand frame@A(i,j)) <br>[goal&gt; Focused goal (1/1):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i,i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: &lt;<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<br>    &lt;<span class="gf" style="font-weight: bold">of_bool</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">exec</span>@<span class="ga" style="color: #00AA00">A(i,j)</span>),if <span class="gm" style="font-weight: bold; color: #AA00AA">exec</span>@<span class="ga" style="color: #00AA00">A(i,j)</span> then <span class="gm" style="font-weight: bold; color: #AA00AA">output</span>@<span class="ga" style="color: #00AA00">A(i,j)</span>&gt;&gt;<br>1: diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step172">
<span class="input-line" id="in172"> expand exec@A(i,j).</span>
<span class="output-line" id="out172">[&gt; Line 294: (expand exec@A(i,j)) <br>[goal&gt; Focused goal (1/1):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i,i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: &lt;<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<br>    &lt;<span class="gf" style="font-weight: bold">of_bool</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">exec</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp; <span class="gm" style="font-weight: bold; color: #AA00AA">cond</span>@<span class="ga" style="color: #00AA00">A(i,j)</span>),<br>     if (<span class="gm" style="font-weight: bold; color: #AA00AA">exec</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp; <span class="gm" style="font-weight: bold; color: #AA00AA">cond</span>@<span class="ga" style="color: #00AA00">A(i,j)</span>) then <span class="gm" style="font-weight: bold; color: #AA00AA">output</span>@<span class="ga" style="color: #00AA00">A(i,j)</span>&gt;&gt;<br>1: diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step173">
<span class="input-line" id="in173"> expand cond@A(i,j).</span>
<span class="output-line" id="out173">[&gt; Line 294: (expand cond@A(i,j)) <br>[goal&gt; Focused goal (1/1):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i,i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: &lt;<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<br>    &lt;<span class="gf" style="font-weight: bold">of_bool</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">exec</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp; true),<br>     if (<span class="gm" style="font-weight: bold; color: #AA00AA">exec</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp; true) then <span class="gm" style="font-weight: bold; color: #AA00AA">output</span>@<span class="ga" style="color: #00AA00">A(i,j)</span>&gt;&gt;<br>1: diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step174">
<span class="input-line" id="in174"> expand output@A(i,j).</span>
<span class="output-line" id="out174">[&gt; Line 294: (expand output@A(i,j)) <br>[goal&gt; Focused goal (1/1):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i,i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: &lt;<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>),<br>    &lt;<span class="gf" style="font-weight: bold">of_bool</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">exec</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp; true),<br>     if (<span class="gm" style="font-weight: bold; color: #AA00AA">exec</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp; true) then <span class="gf" style="font-weight: bold">G</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span>,<span class="gn" style="color: #AA5500">k'</span>)&gt;&gt;<br>1: diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step175">
<span class="input-line" id="in175"><br>  fa 0.</span>
<span class="output-line" id="out175">[&gt; Line 295: (fa 0) <br>[goal&gt; Focused goal (1/1):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i,i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: <span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br>1: &lt;<span class="gf" style="font-weight: bold">of_bool</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">exec</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp; true),<br>    if (<span class="gm" style="font-weight: bold; color: #AA00AA">exec</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp; true) then <span class="gf" style="font-weight: bold">G</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span>,<span class="gn" style="color: #AA5500">k'</span>)&gt;<br>2: diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step176">
<span class="input-line" id="in176"> fa 1.</span>
<span class="output-line" id="out176">[&gt; Line 295: (fa 1) <br>[goal&gt; Focused goal (1/1):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i,i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: <span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br>1: if (<span class="gm" style="font-weight: bold; color: #AA00AA">exec</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>) &amp;&amp; true) then <span class="gf" style="font-weight: bold">G</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span>,<span class="gn" style="color: #AA5500">k'</span>)<br>2: diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step177">
<span class="input-line" id="in177"> fa 1.</span>
<span class="output-line" id="out177">[&gt; Line 295: (fa 1) <br>[goal&gt; Focused goal (1/1):<br>Systems: left:default/left, right:default/left (same for equivalences)<br>Variables: i,i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>0: <span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)<br>1: <span class="gf" style="font-weight: bold">G</span>(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span>,<span class="gn" style="color: #AA5500">k'</span>)<br>2: diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>)<br><br><br></span>
</span>

<span class="squirrel-step" id="step178">
<span class="input-line" id="in178"><br>  prf 1; rewrite if_true; 2: fresh 1; by apply IH.</span>
<span class="output-line" id="out178">[&gt; Line 296: ((prf 1);((rewrite ...); 2: ((fresh 1);by (apply ... )))) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/left (same for equivalences)<br>Variables: i,i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>true &amp;&amp;<br>(forall (j0:index), <span class="ga" style="color: #00AA00">O(j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j0)</span>) &amp;&amp;<br>forall (i0,j0:index), <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i0)@<span class="ga" style="color: #00AA00">A(i0,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step179">
<span class="input-line" id="in179"><br>  simpl; split.</span>
<span class="output-line" id="out179">[&gt; Line 297: (simpl;split) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/left (same for equivalences)<br>Variables: i,i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (j0:index), <span class="ga" style="color: #00AA00">O(j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step180">
<span class="input-line" id="in180"><br>    - intro j0 H.</span>
<span class="output-line" id="out180">[&gt; Line 298: (intro j0 H) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/left (same for equivalences)<br>Variables: i,i',j,j0:index,tau':timestamp<br>H: <span class="ga" style="color: #00AA00">O(j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">input</span>@<span class="ga" style="color: #00AA00">O(j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step181">
<span class="input-line" id="in181"><br>      rewrite equiv IH i (A(i,j)) =&gt; // Hf; by fresh Hf.</span>
<span class="output-line" id="out181">[&gt; Line 299: (((rewrite equiv ...);(intro // Hf));by (fresh Hf)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/left (same for equivalences)<br>Variables: i,i',j:index,tau':timestamp<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br>forall (i0,j0:index), <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span> =&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i0)@<span class="ga" style="color: #00AA00">A(i0,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step182">
<span class="input-line" id="in182"><br>    - intro i0 j0 H.</span>
<span class="output-line" id="out182">[&gt; Line 300: (intro i0 j0 H) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/left (same for equivalences)<br>Variables: i,i',i0,j,j0:index,tau':timestamp<br>H: <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i0)@<span class="ga" style="color: #00AA00">A(i0,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step183">
<span class="input-line" id="in183"><br>      assert i=i0 || i&lt;&gt;i0; try auto.</span>
<span class="output-line" id="out183">[&gt; Line 301: ((have ((i = i0) || (i &lt;&gt; i0)));(try auto)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/left (same for equivalences)<br>Variables: i,i',i0,j,j0:index,tau':timestamp<br>H: <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>H0: i = i0 || i &lt;&gt; i0<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i0)@<span class="ga" style="color: #00AA00">A(i0,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step184">
<span class="input-line" id="in184"><br>      case H0.</span>
<span class="output-line" id="out184">[&gt; Line 302: (case H0) <br>[goal&gt; Focused goal (1/2):<br>System: left:default/left, right:default/left (same for equivalences)<br>Variables: i,i',j,j0:index,tau':timestamp<br>H: <span class="ga" style="color: #00AA00">A(i,j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step185">
<span class="input-line" id="in185"><br>        * by use monotonic_chain with A(i,j),A(i,j0),i,j =&gt; //.</span>
<span class="output-line" id="out185">[&gt; Line 303: (by (have ... as );(intro //)) <br>[goal&gt; Focused goal (1/1):<br>System: left:default/left, right:default/left (same for equivalences)<br>Variables: i,i',i0,j,j0:index,tau':timestamp<br>H: <span class="ga" style="color: #00AA00">A(i0,j0)</span> &lt; <span class="ga" style="color: #00AA00">A(i,j)</span><br>H0: i &lt;&gt; i0<br>Htau: [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>)]<br>Htau': [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')]<br>IH: Forall (i':index,tau':timestamp),<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>))] -&gt;<br>      [<span class="gm" style="font-weight: bold; color: #AA00AA">happens</span>(tau')] -&gt; equiv(<span class="gm" style="font-weight: bold; color: #AA00AA">frame</span>@<span class="gf" style="font-weight: bold">pred</span>(<span class="ga" style="color: #00AA00">A(i,j)</span>), diff(<span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i')@tau', <span class="gn" style="color: #AA5500">m</span>))<br><span class="sep" style="font-weight: bold">----------------------------------------</span><br><span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i)@<span class="ga" style="color: #00AA00">A(i,j)</span> &lt;&gt; <span class="gm" style="font-weight: bold; color: #AA00AA">s</span>(i0)@<span class="ga" style="color: #00AA00">A(i0,j0)</span><br><br></span>
</span>

<span class="squirrel-step" id="step186">
<span class="input-line" id="in186"><br>        * by use disjoint_chains with A(i,j),A(i0,j0),i,i0.</span>
<span class="output-line" id="out186">[&gt; Line 304: by (have ... as ) <br>[goal&gt; Goal strong_secrecy is proved <br></span>
</span>

<span class="squirrel-step" id="step187">
<span class="input-line" id="in187"><br>Qed.</span>
<span class="output-line" id="out187">Exiting proof mode.<br><br><br></span>
</span>

</span>
<div class="page-header">
  <img src="logo-circular.png" class="logo">
  <h1 class="project-tagline">Squirrel Prover</h1>
  <a href="https://squirrel-prover.github.io/examples.html" class="header-button">
    <button type="button" class="header-button">Exit</button>
  </a>
  <button type="button" class="header-button" onclick="help()" id="button-panel">Help</button>
</div>

<div class="help-panel" id="help-panel">
  Press the left and right arrows to do and undo an instruction.
  <br><br>
  Alternatively, you can double-click on an instruction.
  <br><br>
  <span style="color: #8B0000;" onmouseenter="highlightOn('in-zone')" onmouseleave="highlightOff('in-zone')">This zone</span> shows a Squirrel file. You can double-click on a comment to collapse it for better readabilility.
  <br><br>
  <span style="color: #8B0000;" onmouseenter="highlightOn('out-zone')" onmouseleave="highlightOff('out-zone')">This zone</span> shows the output given by Squirrel.
  <br><br>
  <span style="color: #8B0000;" onmouseenter="highlightOn('prec-zone')" onmouseleave="highlightOff('prec-zone')">This zone</span> shows the output of the previous instruction, to help identifying the change caused by the instruction.
</div>

<div class="mainsection" id="main">
  <div class="example-grid">
    <div class="example-col example-col-left" id="in-zone">
      <p class="example-code"><span id="in-line"></span></p>
    </div>
    <div class="example-col example-col-right">
      <div class="example-code example-code-right" style="height: 45%;	border-bottom: 4px double #8B0000;" id="prec-zone"><span>Previously:</span><br><br><span id="prec-line"></span>
      </div>
      <div style="position: relative;">
      <button type="button" class="prec-button" onclick="hidePrec()" id="prec-button" >Hide</button>
      </div>
      <div class="example-code example-code-right" style="height: 55%;" id="out-zone"><span id="out-line"></span>
      </div>
    </div>
  </div>
</div>

<script src="script.js"></script>

</body>

